{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/get","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false,"locs":[]}},{"name":"./Animation","data":{"isAsync":false,"locs":[{"start":{"line":13,"column":18},"end":{"line":13,"column":40}}]}},{"name":"../NativeAnimatedHelper","data":{"isAsync":false,"locs":[{"start":{"line":15,"column":32},"end":{"line":15,"column":66}}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n\n  var _createClass = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n\n  var _get = _$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/get\");\n\n  var _inherits = _$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/inherits\");\n\n  var _possibleConstructorReturn = _$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/possibleConstructorReturn\");\n\n  var _getPrototypeOf = _$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/getPrototypeOf\");\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  var Animation = _$$_REQUIRE(_dependencyMap[6], \"./Animation\");\n\n  var _require = _$$_REQUIRE(_dependencyMap[7], \"../NativeAnimatedHelper\"),\n      shouldUseNativeDriver = _require.shouldUseNativeDriver;\n\n  var DecayAnimation = function (_Animation) {\n    _inherits(DecayAnimation, _Animation);\n\n    var _super = _createSuper(DecayAnimation);\n\n    function DecayAnimation(config) {\n      var _config$deceleration, _config$isInteraction, _config$iterations;\n\n      var _this;\n\n      _classCallCheck(this, DecayAnimation);\n\n      _this = _super.call(this);\n      _this._deceleration = (_config$deceleration = config.deceleration) != null ? _config$deceleration : 0.998;\n      _this._velocity = config.velocity;\n      _this._useNativeDriver = shouldUseNativeDriver(config);\n      _this.__isInteraction = (_config$isInteraction = config.isInteraction) != null ? _config$isInteraction : !_this._useNativeDriver;\n      _this.__iterations = (_config$iterations = config.iterations) != null ? _config$iterations : 1;\n      return _this;\n    }\n\n    _createClass(DecayAnimation, [{\n      key: \"__getNativeAnimationConfig\",\n      value: function __getNativeAnimationConfig() {\n        return {\n          type: 'decay',\n          deceleration: this._deceleration,\n          velocity: this._velocity,\n          iterations: this.__iterations\n        };\n      }\n    }, {\n      key: \"start\",\n      value: function start(fromValue, onUpdate, onEnd, previousAnimation, animatedValue) {\n        this.__active = true;\n        this._lastValue = fromValue;\n        this._fromValue = fromValue;\n        this._onUpdate = onUpdate;\n        this.__onEnd = onEnd;\n        this._startTime = Date.now();\n\n        if (this._useNativeDriver) {\n          this.__startNativeAnimation(animatedValue);\n        } else {\n          this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n        }\n      }\n    }, {\n      key: \"onUpdate\",\n      value: function onUpdate() {\n        var now = Date.now();\n        var value = this._fromValue + this._velocity / (1 - this._deceleration) * (1 - Math.exp(-(1 - this._deceleration) * (now - this._startTime)));\n\n        this._onUpdate(value);\n\n        if (Math.abs(this._lastValue - value) < 0.1) {\n          this.__debouncedOnEnd({\n            finished: true\n          });\n\n          return;\n        }\n\n        this._lastValue = value;\n\n        if (this.__active) {\n          this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n        }\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        _get(_getPrototypeOf(DecayAnimation.prototype), \"stop\", this).call(this);\n\n        this.__active = false;\n        global.cancelAnimationFrame(this._animationFrame);\n\n        this.__debouncedOnEnd({\n          finished: false\n        });\n      }\n    }]);\n\n    return DecayAnimation;\n  }(Animation);\n\n  module.exports = DecayAnimation;\n});","lineCount":112,"map":[[2,0,11,0],[20,0,13,0],[20,6,13,6,"Animation"],[20,15,13,15],[20,18,13,18,"require"],[20,29,13,25],[20,63,13,0],[22,0,15,0],[22,17,15,32,"require"],[22,28,15,39],[22,74,15,0],[23,0,15,0],[23,6,15,7,"shouldUseNativeDriver"],[23,27,15,0],[23,39,15,7,"shouldUseNativeDriver"],[23,60,15,0],[25,6,38,6,"DecayAnimation"],[25,20],[30,0,48,2],[30,28,48,14,"config"],[30,34,48,2],[30,36,48,50],[31,0,48,50],[33,0,48,50],[35,0,48,50],[37,0,49,4],[38,0,50,4],[38,12,50,9,"_deceleration"],[38,25,50,4],[38,52,50,25,"config"],[38,58,50,31],[38,59,50,32,"deceleration"],[38,71,50,4],[38,106,50,48],[38,111,50,4],[39,0,51,4],[39,12,51,9,"_velocity"],[39,21,51,4],[39,24,51,21,"config"],[39,30,51,27],[39,31,51,28,"velocity"],[39,39,51,4],[40,0,52,4],[40,12,52,9,"_useNativeDriver"],[40,28,52,4],[40,31,52,28,"shouldUseNativeDriver"],[40,52,52,49],[40,53,52,50,"config"],[40,59,52,49],[40,60,52,4],[41,0,53,4],[41,12,53,9,"__isInteraction"],[41,27,53,4],[41,55,53,27,"config"],[41,61,53,33],[41,62,53,34,"isInteraction"],[41,75,53,4],[41,111,53,51],[41,112,53,52],[41,118,53,57,"_useNativeDriver"],[41,134,53,4],[42,0,54,4],[42,12,54,9,"__iterations"],[42,24,54,4],[42,49,54,24,"config"],[42,55,54,30],[42,56,54,31,"iterations"],[42,66,54,4],[42,99,54,45],[42,100,54,4],[43,0,48,50],[44,0,55,3],[48,13,57,2],[48,51,62,5],[49,0,63,4],[49,15,63,11],[50,0,64,6,"type"],[50,10,64,6,"type"],[50,14,64,10],[50,16,64,12],[50,23,63,11],[51,0,65,6,"deceleration"],[51,10,65,6,"deceleration"],[51,22,65,18],[51,24,65,20],[51,29,65,25,"_deceleration"],[51,42,63,11],[52,0,66,6,"velocity"],[52,10,66,6,"velocity"],[52,18,66,14],[52,20,66,16],[52,25,66,21,"_velocity"],[52,34,63,11],[53,0,67,6,"iterations"],[53,10,67,6,"iterations"],[53,20,67,16],[53,22,67,18],[53,27,67,23,"__iterations"],[54,0,63,11],[54,9,63,4],[55,0,69,3],[58,13,71,2],[58,28,72,4,"fromValue"],[58,37,71,2],[58,39,73,4,"onUpdate"],[58,47,71,2],[58,49,74,4,"onEnd"],[58,54,71,2],[58,56,75,4,"previousAnimation"],[58,73,71,2],[58,75,76,4,"animatedValue"],[58,88,71,2],[58,90,77,10],[59,0,78,4],[59,13,78,9,"__active"],[59,21,78,4],[59,24,78,20],[59,28,78,4],[60,0,79,4],[60,13,79,9,"_lastValue"],[60,23,79,4],[60,26,79,22,"fromValue"],[60,35,79,4],[61,0,80,4],[61,13,80,9,"_fromValue"],[61,23,80,4],[61,26,80,22,"fromValue"],[61,35,80,4],[62,0,81,4],[62,13,81,9,"_onUpdate"],[62,22,81,4],[62,25,81,21,"onUpdate"],[62,33,81,4],[63,0,82,4],[63,13,82,9,"__onEnd"],[63,20,82,4],[63,23,82,19,"onEnd"],[63,28,82,4],[64,0,83,4],[64,13,83,9,"_startTime"],[64,23,83,4],[64,26,83,22,"Date"],[64,30,83,26],[64,31,83,27,"now"],[64,34,83,22],[64,36,83,4],[66,0,84,4],[66,12,84,8],[66,17,84,13,"_useNativeDriver"],[66,33,84,4],[66,35,84,31],[67,0,85,6],[67,15,85,11,"__startNativeAnimation"],[67,37,85,6],[67,38,85,34,"animatedValue"],[67,51,85,6],[68,0,86,5],[68,9,84,4],[68,15,86,11],[69,0,87,6],[69,15,87,11,"_animationFrame"],[69,30,87,6],[69,33,87,29,"requestAnimationFrame"],[69,54,87,50],[69,55,87,51],[69,60,87,56,"onUpdate"],[69,68,87,51],[69,69,87,65,"bind"],[69,73,87,51],[69,74,87,70],[69,78,87,51],[69,79,87,50],[69,80,87,6],[70,0,88,5],[71,0,89,3],[74,13,91,2],[74,33,91,19],[75,0,92,4],[75,12,92,10,"now"],[75,15,92,13],[75,18,92,16,"Date"],[75,22,92,20],[75,23,92,21,"now"],[75,26,92,16],[75,28,92,4],[76,0,94,4],[76,12,94,10,"value"],[76,17,94,15],[76,20,95,6],[76,25,95,11,"_fromValue"],[76,35,95,6],[76,38,96,7],[76,43,96,12,"_velocity"],[76,52,96,7],[76,56,96,25],[76,60,96,29],[76,65,96,34,"_deceleration"],[76,78,96,7],[76,79,96,6],[76,83,97,9],[76,87,97,13,"Math"],[76,91,97,17],[76,92,97,18,"exp"],[76,95,97,13],[76,96,97,22],[76,98,97,24],[76,102,97,28],[76,107,97,33,"_deceleration"],[76,120,97,22],[76,125,97,51,"now"],[76,128,97,54],[76,131,97,57],[76,136,97,62,"_startTime"],[76,146,97,22],[76,147,97,13],[76,148,96,6],[76,149,94,4],[78,0,99,4],[78,13,99,9,"_onUpdate"],[78,22,99,4],[78,23,99,19,"value"],[78,28,99,4],[80,0,101,4],[80,12,101,8,"Math"],[80,16,101,12],[80,17,101,13,"abs"],[80,20,101,8],[80,21,101,17],[80,26,101,22,"_lastValue"],[80,36,101,17],[80,39,101,35,"value"],[80,44,101,8],[80,48,101,44],[80,51,101,4],[80,53,101,49],[81,0,102,6],[81,15,102,11,"__debouncedOnEnd"],[81,31,102,6],[81,32,102,28],[82,0,102,29,"finished"],[82,12,102,29,"finished"],[82,20,102,37],[82,22,102,39],[83,0,102,28],[83,11,102,6],[85,0,103,6],[86,0,104,5],[88,0,106,4],[88,13,106,9,"_lastValue"],[88,23,106,4],[88,26,106,22,"value"],[88,31,106,4],[90,0,107,4],[90,12,107,8],[90,17,107,13,"__active"],[90,25,107,4],[90,27,107,23],[91,0,108,6],[91,15,108,11,"_animationFrame"],[91,30,108,6],[91,33,108,29,"requestAnimationFrame"],[91,54,108,50],[91,55,108,51],[91,60,108,56,"onUpdate"],[91,68,108,51],[91,69,108,65,"bind"],[91,73,108,51],[91,74,108,70],[91,78,108,51],[91,79,108,50],[91,80,108,6],[92,0,109,5],[93,0,110,3],[96,13,112,2],[96,29,112,15],[97,0,113,4],[99,0,114,4],[99,13,114,9,"__active"],[99,21,114,4],[99,24,114,20],[99,29,114,4],[100,0,115,4,"global"],[100,8,115,4,"global"],[100,14,115,10],[100,15,115,11,"cancelAnimationFrame"],[100,35,115,4],[100,36,115,32],[100,41,115,37,"_animationFrame"],[100,56,115,4],[102,0,116,4],[102,13,116,9,"__debouncedOnEnd"],[102,29,116,4],[102,30,116,26],[103,0,116,27,"finished"],[103,10,116,27,"finished"],[103,18,116,35],[103,20,116,37],[104,0,116,26],[104,9,116,4],[105,0,117,3],[109,4,38,29,"Animation"],[109,13],[111,0,120,0,"module"],[111,2,120,0,"module"],[111,8,120,6],[111,9,120,7,"exports"],[111,16,120,0],[111,19,120,17,"DecayAnimation"],[111,33,120,0]],"functionMap":{"names":["<global>","DecayAnimation","constructor","__getNativeAnimationConfig","start","onUpdate","stop"],"mappings":"AAA;ACqC;ECU;GDO;EEE;GFY;EGE;GHkB;EIE;GJmB;EKE;GLK;CDC"}},"type":"js/module"}]}