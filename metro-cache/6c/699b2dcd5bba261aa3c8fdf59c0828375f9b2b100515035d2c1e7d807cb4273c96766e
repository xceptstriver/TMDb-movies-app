{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false,"locs":[]}},{"name":"react","data":{"isAsync":false,"locs":[]}},{"name":"@react-navigation/routers","data":{"isAsync":false,"locs":[]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useNavigationCache;\n\n  var _objectWithoutProperties2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/objectWithoutProperties\"));\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/defineProperty\"));\n\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[3], \"react\"));\n\n  var _routers = _$$_REQUIRE(_dependencyMap[4], \"@react-navigation/routers\");\n\n  var _excluded = [\"emit\"];\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  function useNavigationCache(_ref) {\n    var state = _ref.state,\n        getState = _ref.getState,\n        navigation = _ref.navigation,\n        _setOptions = _ref.setOptions,\n        router = _ref.router,\n        emitter = _ref.emitter;\n    var cache = React.useMemo(function () {\n      return {\n        current: {}\n      };\n    }, [getState, navigation, _setOptions, router, emitter]);\n\n    var actions = _objectSpread(_objectSpread({}, router.actionCreators), _routers.CommonActions);\n\n    cache.current = state.routes.reduce(function (acc, route) {\n      var previous = cache.current[route.key];\n\n      if (previous) {\n        acc[route.key] = previous;\n      } else {\n        var emit = navigation.emit,\n            rest = (0, _objectWithoutProperties2.default)(navigation, _excluded);\n\n        var dispatch = function dispatch(action) {\n          var payload = typeof action === 'function' ? action(getState()) : action;\n          navigation.dispatch(typeof payload === 'object' && payload != null ? _objectSpread({\n            source: route.key\n          }, payload) : payload);\n        };\n\n        var helpers = Object.keys(actions).reduce(function (acc, name) {\n          acc[name] = function () {\n            return dispatch(actions[name].apply(actions, arguments));\n          };\n\n          return acc;\n        }, {});\n        acc[route.key] = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, rest), helpers), emitter.create(route.key)), {}, {\n          dispatch: dispatch,\n          setOptions: function setOptions(options) {\n            return _setOptions(function (o) {\n              return _objectSpread(_objectSpread({}, o), {}, (0, _defineProperty2.default)({}, route.key, _objectSpread(_objectSpread({}, o[route.key]), options)));\n            });\n          },\n          isFocused: function isFocused() {\n            var state = getState();\n\n            if (state.routes[state.index].key !== route.key) {\n              return false;\n            }\n\n            return navigation ? navigation.isFocused() : true;\n          }\n        });\n      }\n\n      return acc;\n    }, {});\n    return cache.current;\n  }\n});","lineCount":88,"map":[[13,0,1,0],[15,0,2,0],[27,0,37,15],[27,11,37,24,"useNavigationCache"],[27,29,37,15],[27,36,47,19],[28,0,47,19],[28,8,41,2,"state"],[28,13,47,19],[28,21,41,2,"state"],[28,26,47,19],[29,0,47,19],[29,8,42,2,"getState"],[29,16,47,19],[29,24,42,2,"getState"],[29,32,47,19],[30,0,47,19],[30,8,43,2,"navigation"],[30,18,47,19],[30,26,43,2,"navigation"],[30,36,47,19],[31,0,47,19],[31,8,44,2,"setOptions"],[31,19,47,19],[31,27,44,2,"setOptions"],[31,37,47,19],[32,0,47,19],[32,8,45,2,"router"],[32,14,47,19],[32,22,45,2,"router"],[32,28,47,19],[33,0,47,19],[33,8,46,2,"emitter"],[33,15,47,19],[33,23,46,2,"emitter"],[33,30,47,19],[34,0,51,2],[34,8,51,8,"cache"],[34,13,51,13],[34,16,51,16,"React"],[34,21,51,21],[34,22,51,22,"useMemo"],[34,29,51,16],[34,30,52,4],[35,0,52,4],[35,13,52,11],[36,0,52,13,"current"],[36,8,52,13,"current"],[36,15,52,20],[36,17,52,22],[37,0,52,11],[37,7,52,4],[38,0,52,4],[38,5,51,16],[38,7,54,4],[38,8,54,5,"getState"],[38,16,54,4],[38,18,54,15,"navigation"],[38,28,54,4],[38,30,54,27,"setOptions"],[38,41,54,4],[38,43,54,39,"router"],[38,49,54,4],[38,51,54,47,"emitter"],[38,58,54,4],[38,59,51,16],[38,60,51,2],[40,0,57,2],[40,8,57,8,"actions"],[40,15,57,15],[40,50,58,7,"router"],[40,56,58,13],[40,57,58,14,"actionCreators"],[40,71,57,15],[40,74,59,7,"CommonActions"],[40,96,57,15],[40,97,57,2],[42,0,62,2,"cache"],[42,4,62,2,"cache"],[42,9,62,7],[42,10,62,8,"current"],[42,17,62,2],[42,20,62,18,"state"],[42,25,62,23],[42,26,62,24,"routes"],[42,32,62,18],[42,33,62,31,"reduce"],[42,39,62,18],[42,40,63,4],[42,50,63,5,"acc"],[42,53,63,4],[42,55,63,10,"route"],[42,60,63,4],[42,62,63,20],[43,0,64,6],[43,10,64,12,"previous"],[43,18,64,20],[43,21,64,23,"cache"],[43,26,64,28],[43,27,64,29,"current"],[43,34,64,23],[43,35,64,37,"route"],[43,40,64,42],[43,41,64,43,"key"],[43,44,64,23],[43,45,64,6],[45,0,66,6],[45,10,66,10,"previous"],[45,18,66,6],[45,20,66,20],[46,0,68,8,"acc"],[46,8,68,8,"acc"],[46,11,68,11],[46,12,68,12,"route"],[46,17,68,17],[46,18,68,18,"key"],[46,21,68,11],[46,22,68,8],[46,25,68,25,"previous"],[46,33,68,8],[47,0,69,7],[47,7,66,6],[47,13,69,13],[48,0,71,8],[48,12,71,16,"emit"],[48,16,71,8],[48,19,71,34,"navigation"],[48,29,71,8],[48,30,71,16,"emit"],[48,34,71,8],[49,0,71,8],[49,12,71,25,"rest"],[49,16,71,8],[49,58,71,34,"navigation"],[49,68,71,8],[51,0,73,8],[51,12,73,14,"dispatch"],[51,20,73,22],[51,23,73,25],[51,32,73,14,"dispatch"],[51,40,73,25],[51,41,74,10,"action"],[51,47,73,25],[51,49,75,13],[52,0,76,10],[52,14,76,16,"payload"],[52,21,76,23],[52,24,77,12],[52,31,77,19,"action"],[52,37,77,12],[52,42,77,30],[52,52,77,12],[52,55,77,43,"action"],[52,61,77,49],[52,62,77,50,"getState"],[52,70,77,58],[52,72,77,49],[52,73,77,12],[52,76,77,64,"action"],[52,82,76,10],[53,0,79,10,"navigation"],[53,10,79,10,"navigation"],[53,20,79,20],[53,21,79,21,"dispatch"],[53,29,79,10],[53,30,80,12],[53,37,80,19,"payload"],[53,44,80,12],[53,49,80,31],[53,57,80,12],[53,61,80,43,"payload"],[53,68,80,50],[53,72,80,54],[53,76,80,12],[54,0,81,18,"source"],[54,12,81,18,"source"],[54,18,81,24],[54,20,81,26,"route"],[54,25,81,31],[54,26,81,32,"key"],[55,0,80,12],[55,13,81,40,"payload"],[55,20,80,12],[55,24,82,16,"payload"],[55,31,79,10],[56,0,84,9],[56,9,73,8],[58,0,86,8],[58,12,86,14,"helpers"],[58,19,86,21],[58,22,86,24,"Object"],[58,28,86,30],[58,29,86,31,"keys"],[58,33,86,24],[58,34,86,36,"actions"],[58,41,86,24],[58,43,86,45,"reduce"],[58,49,86,24],[58,50,87,10],[58,60,87,11,"acc"],[58,63,87,10],[58,65,87,16,"name"],[58,69,87,10],[58,71,87,25],[59,0,89,12,"acc"],[59,10,89,12,"acc"],[59,13,89,15],[59,14,89,16,"name"],[59,18,89,15],[59,19,89,12],[59,22,89,24],[60,0,89,24],[60,19,89,42,"dispatch"],[60,27,89,50],[60,28,89,51,"actions"],[60,35,89,58],[60,36,89,59,"name"],[60,40,89,58],[60,41,89,51],[60,48,89,51,"actions"],[60,55,89,58],[60,67,89,50],[60,68,89,24],[61,0,89,24],[61,11,89,12],[63,0,90,12],[63,17,90,19,"acc"],[63,20,90,12],[64,0,91,11],[64,9,86,24],[64,11,92,10],[64,13,86,24],[64,14,86,8],[65,0,95,8,"acc"],[65,8,95,8,"acc"],[65,11,95,11],[65,12,95,12,"route"],[65,17,95,17],[65,18,95,18,"key"],[65,21,95,11],[65,22,95,8],[65,85,96,13,"rest"],[65,89,95,8],[65,92,97,13,"helpers"],[65,99,95,8],[65,102,98,13,"emitter"],[65,109,98,20],[65,110,98,21,"create"],[65,116,98,13],[65,117,98,28,"route"],[65,122,98,33],[65,123,98,34,"key"],[65,126,98,13],[65,127,95,8],[66,0,99,10,"dispatch"],[66,10,99,10,"dispatch"],[66,18,99,18],[66,20,99,10,"dispatch"],[66,28,95,8],[67,0,100,10,"setOptions"],[67,10,100,10,"setOptions"],[67,20,100,20],[67,22,100,22],[67,42,100,23,"options"],[67,49,100,22],[68,0,100,22],[68,19,101,12,"setOptions"],[68,30,101,22],[68,31,101,23],[68,41,101,24,"o"],[68,42,101,23],[69,0,101,23],[69,53,102,17,"o"],[69,54,101,23],[69,95,103,15,"route"],[69,100,103,20],[69,101,103,21,"key"],[69,104,101,23],[69,138,103,32,"o"],[69,139,103,33],[69,140,103,34,"route"],[69,145,103,39],[69,146,103,40,"key"],[69,149,103,33],[69,150,101,23],[69,153,103,49,"options"],[69,160,101,23],[70,0,101,23],[70,13,101,22],[70,14,100,22],[71,0,100,22],[71,11,95,8],[72,0,105,10,"isFocused"],[72,10,105,10,"isFocused"],[72,19,105,19],[72,21,105,21],[72,42,105,27],[73,0,106,12],[73,16,106,18,"state"],[73,21,106,23],[73,24,106,26,"getState"],[73,32,106,34],[73,34,106,12],[75,0,108,12],[75,16,108,16,"state"],[75,21,108,21],[75,22,108,22,"routes"],[75,28,108,16],[75,29,108,29,"state"],[75,34,108,34],[75,35,108,35,"index"],[75,40,108,16],[75,42,108,42,"key"],[75,45,108,16],[75,50,108,50,"route"],[75,55,108,55],[75,56,108,56,"key"],[75,59,108,12],[75,61,108,61],[76,0,109,14],[76,21,109,21],[76,26,109,14],[77,0,110,13],[79,0,114,12],[79,19,114,19,"navigation"],[79,29,114,29],[79,32,114,32,"navigation"],[79,42,114,42],[79,43,114,43,"isFocused"],[79,52,114,32],[79,54,114,29],[79,57,114,57],[79,61,114,12],[80,0,115,11],[81,0,95,8],[82,0,117,7],[84,0,119,6],[84,13,119,13,"acc"],[84,16,119,6],[85,0,120,5],[85,5,62,18],[85,7,121,4],[85,9,62,18],[85,10,62,2],[86,0,124,2],[86,11,124,9,"cache"],[86,16,124,14],[86,17,124,15,"current"],[86,24,124,2],[87,0,125,1]],"functionMap":{"names":["<global>","useNavigationCache","React.useMemo$argument_0","state.routes.reduce$argument_0","dispatch","Object.keys.reduce$argument_0","acc.name","acc.route.key.setOptions","setOptions$argument_0","acc.route.key.isFocused"],"mappings":"AAA;eCoC;ICe,gED;IEW;yBCU;SDW;UEG;wBCE,kDD;WFE;sBIS;uBCC;cDG,CJ;qBMC;WNU;KFK;CDK"}},"type":"js/module"}]}