{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false,"locs":[]}},{"name":"./NativeVibration","data":{"isAsync":false,"locs":[]}},{"name":"../Utilities/Platform","data":{"isAsync":false,"locs":[{"start":{"line":15,"column":17},"end":{"line":15,"column":49}}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  var _NativeVibration = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"./NativeVibration\"));\n\n  var Platform = _$$_REQUIRE(_dependencyMap[2], \"../Utilities/Platform\");\n\n  var _vibrating = false;\n  var _id = 0;\n  var _default_vibration_length = 400;\n\n  function vibrateByPattern(pattern) {\n    var repeat = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    if (_vibrating) {\n      return;\n    }\n\n    _vibrating = true;\n\n    if (pattern[0] === 0) {\n      _NativeVibration.default.vibrate(_default_vibration_length);\n\n      pattern = pattern.slice(1);\n    }\n\n    if (pattern.length === 0) {\n      _vibrating = false;\n      return;\n    }\n\n    setTimeout(function () {\n      return vibrateScheduler(++_id, pattern, repeat, 1);\n    }, pattern[0]);\n  }\n\n  function vibrateScheduler(id, pattern, repeat, nextIndex) {\n    if (!_vibrating || id !== _id) {\n      return;\n    }\n\n    _NativeVibration.default.vibrate(_default_vibration_length);\n\n    if (nextIndex >= pattern.length) {\n      if (repeat) {\n        nextIndex = 0;\n      } else {\n        _vibrating = false;\n        return;\n      }\n    }\n\n    setTimeout(function () {\n      return vibrateScheduler(id, pattern, repeat, nextIndex + 1);\n    }, pattern[nextIndex]);\n  }\n\n  var Vibration = {\n    vibrate: function vibrate() {\n      var pattern = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _default_vibration_length;\n      var repeat = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (\"android\" === 'android') {\n        if (typeof pattern === 'number') {\n          _NativeVibration.default.vibrate(pattern);\n        } else if (Array.isArray(pattern)) {\n          _NativeVibration.default.vibrateByPattern(pattern, repeat ? 0 : -1);\n        } else {\n          throw new Error('Vibration pattern should be a number or array');\n        }\n      } else {\n        if (_vibrating) {\n          return;\n        }\n\n        if (typeof pattern === 'number') {\n          _NativeVibration.default.vibrate(pattern);\n        } else if (Array.isArray(pattern)) {\n          vibrateByPattern(pattern, repeat);\n        } else {\n          throw new Error('Vibration pattern should be a number or array');\n        }\n      }\n    },\n    cancel: function cancel() {\n      if (\"android\" === 'ios') {\n        _vibrating = false;\n      } else {\n        _NativeVibration.default.cancel();\n      }\n    }\n  };\n  module.exports = Vibration;\n});","lineCount":96,"map":[[2,0,12,0],[6,0,14,0],[8,0,15,0],[8,6,15,6,"Platform"],[8,14,15,14],[8,17,15,17,"require"],[8,28,15,24],[8,72,15,0],[10,0,23,0],[10,6,23,4,"_vibrating"],[10,16,23,23],[10,19,23,26],[10,24,23,0],[11,0,24,0],[11,6,24,4,"_id"],[11,9,24,15],[11,12,24,18],[11,13,24,0],[12,0,25,0],[12,6,25,6,"_default_vibration_length"],[12,31,25,31],[12,34,25,34],[12,37,25,0],[14,0,27,0],[14,11,27,9,"vibrateByPattern"],[14,27,27,0],[14,28,27,26,"pattern"],[14,35,27,0],[14,37,27,75],[15,0,27,75],[15,8,27,50,"repeat"],[15,14,27,75],[15,85,27,68],[15,90,27,75],[17,0,28,2],[17,8,28,6,"_vibrating"],[17,18,28,2],[17,20,28,18],[18,0,29,4],[19,0,30,3],[21,0,31,2,"_vibrating"],[21,4,31,2,"_vibrating"],[21,14,31,12],[21,17,31,15],[21,21,31,2],[23,0,32,2],[23,8,32,6,"pattern"],[23,15,32,13],[23,16,32,14],[23,17,32,13],[23,18,32,6],[23,23,32,21],[23,24,32,2],[23,26,32,24],[24,0,33,4,"NativeVibration"],[24,31,33,20,"vibrate"],[24,38,33,4],[24,39,33,28,"_default_vibration_length"],[24,64,33,4],[26,0,34,4,"pattern"],[26,6,34,4,"pattern"],[26,13,34,11],[26,16,34,14,"pattern"],[26,23,34,21],[26,24,34,22,"slice"],[26,29,34,14],[26,30,34,28],[26,31,34,14],[26,32,34,4],[27,0,35,3],[29,0,36,2],[29,8,36,6,"pattern"],[29,15,36,13],[29,16,36,14,"length"],[29,22,36,6],[29,27,36,25],[29,28,36,2],[29,30,36,28],[30,0,37,4,"_vibrating"],[30,6,37,4,"_vibrating"],[30,16,37,14],[30,19,37,17],[30,24,37,4],[31,0,38,4],[32,0,39,3],[34,0,40,2,"setTimeout"],[34,4,40,2,"setTimeout"],[34,14,40,12],[34,15,40,13],[35,0,40,13],[35,13,40,19,"vibrateScheduler"],[35,29,40,35],[35,30,40,36],[35,32,40,38,"_id"],[35,35,40,35],[35,37,40,43,"pattern"],[35,44,40,35],[35,46,40,52,"repeat"],[35,52,40,35],[35,54,40,60],[35,55,40,35],[35,56,40,13],[36,0,40,13],[36,5,40,12],[36,7,40,64,"pattern"],[36,14,40,71],[36,15,40,72],[36,16,40,71],[36,17,40,12],[36,18,40,2],[37,0,41,1],[39,0,43,0],[39,11,43,9,"vibrateScheduler"],[39,27,43,0],[39,28,44,2,"id"],[39,30,43,0],[39,32,45,2,"pattern"],[39,39,43,0],[39,41,46,2,"repeat"],[39,47,43,0],[39,49,47,2,"nextIndex"],[39,58,43,0],[39,60,48,2],[40,0,49,2],[40,8,49,6],[40,9,49,7,"_vibrating"],[40,19,49,6],[40,23,49,21,"id"],[40,25,49,23],[40,30,49,28,"_id"],[40,33,49,2],[40,35,49,33],[41,0,50,4],[42,0,51,3],[44,0,52,2,"NativeVibration"],[44,29,52,18,"vibrate"],[44,36,52,2],[44,37,52,26,"_default_vibration_length"],[44,62,52,2],[46,0,53,2],[46,8,53,6,"nextIndex"],[46,17,53,15],[46,21,53,19,"pattern"],[46,28,53,26],[46,29,53,27,"length"],[46,35,53,2],[46,37,53,35],[47,0,54,4],[47,10,54,8,"repeat"],[47,16,54,4],[47,18,54,16],[48,0,55,6,"nextIndex"],[48,8,55,6,"nextIndex"],[48,17,55,15],[48,20,55,18],[48,21,55,6],[49,0,56,5],[49,7,54,4],[49,13,56,11],[50,0,57,6,"_vibrating"],[50,8,57,6,"_vibrating"],[50,18,57,16],[50,21,57,19],[50,26,57,6],[51,0,58,6],[52,0,59,5],[53,0,60,3],[55,0,61,2,"setTimeout"],[55,4,61,2,"setTimeout"],[55,14,61,12],[55,15,62,4],[56,0,62,4],[56,13,62,10,"vibrateScheduler"],[56,29,62,26],[56,30,62,27,"id"],[56,32,62,26],[56,34,62,31,"pattern"],[56,41,62,26],[56,43,62,40,"repeat"],[56,49,62,26],[56,51,62,48,"nextIndex"],[56,60,62,57],[56,63,62,60],[56,64,62,26],[56,65,62,4],[57,0,62,4],[57,5,61,12],[57,7,63,4,"pattern"],[57,14,63,11],[57,15,63,12,"nextIndex"],[57,24,63,11],[57,25,61,12],[57,26,61,2],[58,0,65,1],[60,0,67,0],[60,6,67,6,"Vibration"],[60,15,67,15],[60,18,67,18],[61,0,73,2,"vibrate"],[61,4,73,2,"vibrate"],[61,11,73,9],[61,13,73,11],[61,32,76,4],[62,0,76,4],[62,10,74,4,"pattern"],[62,17,76,4],[62,88,74,38,"_default_vibration_length"],[62,113,76,4],[63,0,76,4],[63,10,75,4,"repeat"],[63,16,76,4],[63,87,75,22],[63,92,76,4],[65,0,77,4],[65,10,77,8],[65,24,77,24],[65,33,77,4],[65,35,77,35],[66,0,78,6],[66,12,78,10],[66,19,78,17,"pattern"],[66,26,78,10],[66,31,78,29],[66,39,78,6],[66,41,78,39],[67,0,79,8,"NativeVibration"],[67,35,79,24,"vibrate"],[67,42,79,8],[67,43,79,32,"pattern"],[67,50,79,8],[68,0,80,7],[68,9,78,6],[68,15,80,13],[68,19,80,17,"Array"],[68,24,80,22],[68,25,80,23,"isArray"],[68,32,80,17],[68,33,80,31,"pattern"],[68,40,80,17],[68,41,80,13],[68,43,80,41],[69,0,81,8,"NativeVibration"],[69,35,81,24,"vibrateByPattern"],[69,51,81,8],[69,52,81,41,"pattern"],[69,59,81,8],[69,61,81,50,"repeat"],[69,67,81,56],[69,70,81,59],[69,71,81,56],[69,74,81,63],[69,75,81,64],[69,76,81,8],[70,0,82,7],[70,9,80,13],[70,15,82,13],[71,0,83,8],[71,16,83,14],[71,20,83,18,"Error"],[71,25,83,14],[71,26,83,24],[71,73,83,14],[71,74,83,8],[72,0,84,7],[73,0,85,5],[73,7,77,4],[73,13,85,11],[74,0,86,6],[74,12,86,10,"_vibrating"],[74,22,86,6],[74,24,86,22],[75,0,87,8],[76,0,88,7],[78,0,89,6],[78,12,89,10],[78,19,89,17,"pattern"],[78,26,89,10],[78,31,89,29],[78,39,89,6],[78,41,89,39],[79,0,90,8,"NativeVibration"],[79,35,90,24,"vibrate"],[79,42,90,8],[79,43,90,32,"pattern"],[79,50,90,8],[80,0,91,7],[80,9,89,6],[80,15,91,13],[80,19,91,17,"Array"],[80,24,91,22],[80,25,91,23,"isArray"],[80,32,91,17],[80,33,91,31,"pattern"],[80,40,91,17],[80,41,91,13],[80,43,91,41],[81,0,92,8,"vibrateByPattern"],[81,10,92,8,"vibrateByPattern"],[81,26,92,24],[81,27,92,25,"pattern"],[81,34,92,24],[81,36,92,34,"repeat"],[81,42,92,24],[81,43,92,8],[82,0,93,7],[82,9,91,13],[82,15,93,13],[83,0,94,8],[83,16,94,14],[83,20,94,18,"Error"],[83,25,94,14],[83,26,94,24],[83,73,94,14],[83,74,94,8],[84,0,95,7],[85,0,96,5],[86,0,97,3],[86,5,67,18],[87,0,103,2,"cancel"],[87,4,103,2,"cancel"],[87,10,103,8],[87,12,103,10],[87,30,103,21],[88,0,104,4],[88,10,104,8],[88,24,104,24],[88,29,104,4],[88,31,104,31],[89,0,105,6,"_vibrating"],[89,8,105,6,"_vibrating"],[89,18,105,16],[89,21,105,19],[89,26,105,6],[90,0,106,5],[90,7,104,4],[90,13,106,11],[91,0,107,6,"NativeVibration"],[91,33,107,22,"cancel"],[91,39,107,6],[92,0,108,5],[93,0,109,3],[94,0,67,18],[94,3,67,0],[95,0,112,0,"module"],[95,2,112,0,"module"],[95,8,112,6],[95,9,112,7,"exports"],[95,16,112,0],[95,19,112,17,"Vibration"],[95,28,112,0]],"functionMap":{"names":["<global>","vibrateByPattern","setTimeout$argument_0","vibrateScheduler","vibrate","cancel"],"mappings":"AAA;AC0B;aCa,iDD;CDC;AGE;IDmB,0DC;CHG;WIQ;GJwB;UKM;GLM"}},"type":"js/module"}]}