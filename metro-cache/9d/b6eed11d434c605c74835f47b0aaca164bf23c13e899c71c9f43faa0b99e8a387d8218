{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false,"locs":[]}},{"name":"./NativeAppState","data":{"isAsync":false,"locs":[]}},{"name":"../vendor/emitter/EventEmitter","data":{"isAsync":false,"locs":[{"start":{"line":13,"column":21},"end":{"line":13,"column":62}}]}},{"name":"../EventEmitter/NativeEventEmitter","data":{"isAsync":false,"locs":[{"start":{"line":14,"column":27},"end":{"line":14,"column":72}}]}},{"name":"invariant","data":{"isAsync":false,"locs":[{"start":{"line":16,"column":18},"end":{"line":16,"column":38}}]}},{"name":"../Utilities/logError","data":{"isAsync":false,"locs":[{"start":{"line":17,"column":17},"end":{"line":17,"column":49}}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/inherits\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _NativeAppState = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"./NativeAppState\"));\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  var EventEmitter = _$$_REQUIRE(_dependencyMap[7], \"../vendor/emitter/EventEmitter\");\n\n  var NativeEventEmitter = _$$_REQUIRE(_dependencyMap[8], \"../EventEmitter/NativeEventEmitter\");\n\n  var invariant = _$$_REQUIRE(_dependencyMap[9], \"invariant\");\n\n  var logError = _$$_REQUIRE(_dependencyMap[10], \"../Utilities/logError\");\n\n  var AppState = function (_NativeEventEmitter) {\n    (0, _inherits2.default)(AppState, _NativeEventEmitter);\n\n    var _super = _createSuper(AppState);\n\n    function AppState() {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, AppState);\n      _this = _super.call(this, _NativeAppState.default);\n      _this._supportedEvents = ['change', 'memoryWarning', 'blur', 'focus'];\n      _this.isAvailable = true;\n      _this._eventHandlers = _this._supportedEvents.reduce(function (handlers, key) {\n        handlers[key] = new Map();\n        return handlers;\n      }, {});\n      _this.currentState = _NativeAppState.default.getConstants().initialAppState;\n      var eventUpdated = false;\n\n      _this.addListener('appStateDidChange', function (appStateData) {\n        eventUpdated = true;\n        _this.currentState = appStateData.app_state;\n      });\n\n      _NativeAppState.default.getCurrentAppState(function (appStateData) {\n        if (!eventUpdated && _this.currentState !== appStateData.app_state) {\n          _this.currentState = appStateData.app_state;\n\n          _this.emit('appStateDidChange', appStateData);\n        }\n      }, logError);\n\n      return _this;\n    }\n\n    (0, _createClass2.default)(AppState, [{\n      key: \"addEventListener\",\n      value: function addEventListener(type, handler) {\n        invariant(this._supportedEvents.indexOf(type) !== -1, 'Trying to subscribe to unknown event: \"%s\"', type);\n\n        switch (type) {\n          case 'change':\n            {\n              this._eventHandlers[type].set(handler, this.addListener('appStateDidChange', function (appStateData) {\n                handler(appStateData.app_state);\n              }));\n\n              break;\n            }\n\n          case 'memoryWarning':\n            {\n              this._eventHandlers[type].set(handler, this.addListener('memoryWarning', handler));\n\n              break;\n            }\n\n          case 'blur':\n          case 'focus':\n            {\n              this._eventHandlers[type].set(handler, this.addListener('appStateFocusChange', function (hasFocus) {\n                if (type === 'blur' && !hasFocus) {\n                  handler();\n                }\n\n                if (type === 'focus' && hasFocus) {\n                  handler();\n                }\n              }));\n            }\n        }\n      }\n    }, {\n      key: \"removeEventListener\",\n      value: function removeEventListener(type, handler) {\n        invariant(this._supportedEvents.indexOf(type) !== -1, 'Trying to remove listener for unknown event: \"%s\"', type);\n\n        if (!this._eventHandlers[type].has(handler)) {\n          return;\n        }\n\n        this._eventHandlers[type].get(handler).remove();\n\n        this._eventHandlers[type].delete(handler);\n      }\n    }]);\n    return AppState;\n  }(NativeEventEmitter);\n\n  function throwMissingNativeModule() {\n    invariant(false, 'Cannot use AppState module when native RCTAppState is not included in the build.\\n' + 'Either include it, or check AppState.isAvailable before calling any methods.');\n  }\n\n  var MissingNativeAppStateShim = function (_EventEmitter) {\n    (0, _inherits2.default)(MissingNativeAppStateShim, _EventEmitter);\n\n    var _super2 = _createSuper(MissingNativeAppStateShim);\n\n    function MissingNativeAppStateShim() {\n      var _this2;\n\n      (0, _classCallCheck2.default)(this, MissingNativeAppStateShim);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this2 = _super2.call.apply(_super2, [this].concat(args));\n      _this2.isAvailable = false;\n      _this2.currentState = null;\n      return _this2;\n    }\n\n    (0, _createClass2.default)(MissingNativeAppStateShim, [{\n      key: \"addEventListener\",\n      value: function addEventListener(type, handler) {\n        throwMissingNativeModule();\n      }\n    }, {\n      key: \"removeEventListener\",\n      value: function removeEventListener(type, handler) {\n        throwMissingNativeModule();\n      }\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        throwMissingNativeModule();\n      }\n    }, {\n      key: \"removeAllListeners\",\n      value: function removeAllListeners() {\n        throwMissingNativeModule();\n      }\n    }, {\n      key: \"removeSubscription\",\n      value: function removeSubscription() {\n        throwMissingNativeModule();\n      }\n    }]);\n    return MissingNativeAppStateShim;\n  }(EventEmitter);\n\n  var AppStateInstance = _NativeAppState.default ? new AppState() : new MissingNativeAppStateShim();\n  module.exports = AppStateInstance;\n});","lineCount":174,"map":[[2,0,11,0],[16,0,19,0],[22,0,13,0],[22,6,13,6,"EventEmitter"],[22,18,13,18],[22,21,13,21,"require"],[22,32,13,28],[22,85,13,0],[24,0,14,0],[24,6,14,6,"NativeEventEmitter"],[24,24,14,24],[24,27,14,27,"require"],[24,38,14,34],[24,95,14,0],[26,0,16,0],[26,6,16,6,"invariant"],[26,15,16,15],[26,18,16,18,"require"],[26,29,16,25],[26,61,16,0],[28,0,17,0],[28,6,17,6,"logError"],[28,14,17,14],[28,17,17,17,"require"],[28,28,17,24],[28,73,17,0],[30,6,27,6,"AppState"],[30,14],[35,0,33,2],[35,24,33,16],[36,0,33,16],[38,0,33,16],[39,0,34,4],[39,32,34,10,"NativeAppState"],[39,55,34,4],[40,0,33,16],[40,12,29,2,"_supportedEvents"],[40,28,33,16],[40,31,29,21],[40,32,29,22],[40,40,29,21],[40,42,29,32],[40,57,29,21],[40,59,29,49],[40,65,29,21],[40,67,29,57],[40,74,29,21],[40,75,33,16],[41,0,36,4],[41,12,36,9,"isAvailable"],[41,23,36,4],[41,26,36,23],[41,30,36,4],[42,0,37,4],[42,12,37,9,"_eventHandlers"],[42,26,37,4],[42,29,37,26],[42,35,37,31,"_supportedEvents"],[42,51,37,26],[42,52,37,48,"reduce"],[42,58,37,26],[42,59,37,55],[42,69,37,56,"handlers"],[42,77,37,55],[42,79,37,66,"key"],[42,82,37,55],[42,84,37,74],[43,0,38,6,"handlers"],[43,8,38,6,"handlers"],[43,16,38,14],[43,17,38,15,"key"],[43,20,38,14],[43,21,38,6],[43,24,38,22],[43,28,38,26,"Map"],[43,31,38,22],[43,33,38,6],[44,0,39,6],[44,15,39,13,"handlers"],[44,23,39,6],[45,0,40,5],[45,7,37,26],[45,9,40,7],[45,11,37,26],[45,12,37,4],[46,0,42,4],[46,12,42,9,"currentState"],[46,24,42,4],[46,27,42,24,"NativeAppState"],[46,51,42,39,"getConstants"],[46,63,42,24],[46,66,42,54,"initialAppState"],[46,81,42,4],[47,0,44,4],[47,10,44,8,"eventUpdated"],[47,22,44,20],[47,25,44,23],[47,30,44,4],[49,0,50,4],[49,12,50,9,"addListener"],[49,23,50,4],[49,24,50,21],[49,43,50,4],[49,45,50,42],[49,55,50,42,"appStateData"],[49,67,50,54],[49,69,50,58],[50,0,51,6,"eventUpdated"],[50,8,51,6,"eventUpdated"],[50,20,51,18],[50,23,51,21],[50,27,51,6],[51,0,52,6],[51,14,52,11,"currentState"],[51,26,52,6],[51,29,52,26,"appStateData"],[51,41,52,38],[51,42,52,39,"app_state"],[51,51,52,6],[52,0,53,5],[52,7,50,4],[54,0,58,4,"NativeAppState"],[54,30,58,19,"getCurrentAppState"],[54,48,58,4],[54,49,58,38],[54,59,58,38,"appStateData"],[54,71,58,50],[54,73,58,54],[55,0,60,6],[55,12,60,10],[55,13,60,11,"eventUpdated"],[55,25,60,10],[55,29,60,27],[55,35,60,32,"currentState"],[55,47,60,27],[55,52,60,49,"appStateData"],[55,64,60,61],[55,65,60,62,"app_state"],[55,74,60,6],[55,76,60,73],[56,0,61,8],[56,16,61,13,"currentState"],[56,28,61,8],[56,31,61,28,"appStateData"],[56,43,61,40],[56,44,61,41,"app_state"],[56,53,61,8],[58,0,62,8],[58,16,62,13,"emit"],[58,20,62,8],[58,21,62,18],[58,40,62,8],[58,42,62,39,"appStateData"],[58,54,62,8],[59,0,63,7],[60,0,64,5],[60,7,58,4],[60,9,64,7,"logError"],[60,17,58,4],[62,0,33,16],[63,0,65,3],[67,13,78,2],[67,39,78,19,"type"],[67,43,78,2],[67,45,78,33,"handler"],[67,52,78,2],[67,54,78,52],[68,0,79,4,"invariant"],[68,8,79,4,"invariant"],[68,17,79,13],[68,18,80,6],[68,23,80,11,"_supportedEvents"],[68,39,80,6],[68,40,80,28,"indexOf"],[68,47,80,6],[68,48,80,36,"type"],[68,52,80,6],[68,58,80,46],[68,59,80,47],[68,60,79,13],[68,62,81,6],[68,106,79,13],[68,108,82,6,"type"],[68,112,79,13],[68,113,79,4],[70,0,85,4],[70,16,85,12,"type"],[70,20,85,4],[71,0,86,6],[71,15,86,11],[71,23,86,6],[72,0,86,21],[73,0,87,8],[73,19,87,13,"_eventHandlers"],[73,33,87,8],[73,34,87,28,"type"],[73,38,87,8],[73,40,87,34,"set"],[73,43,87,8],[73,44,88,10,"handler"],[73,51,87,8],[73,53,89,10],[73,58,89,15,"addListener"],[73,69,89,10],[73,70,89,27],[73,89,89,10],[73,91,89,48],[73,101,89,48,"appStateData"],[73,113,89,60],[73,115,89,64],[74,0,90,12,"handler"],[74,16,90,12,"handler"],[74,23,90,19],[74,24,90,20,"appStateData"],[74,36,90,32],[74,37,90,33,"app_state"],[74,46,90,19],[74,47,90,12],[75,0,91,11],[75,15,89,10],[75,16,87,8],[77,0,93,8],[78,0,94,7],[80,0,95,6],[80,15,95,11],[80,30,95,6],[81,0,95,28],[82,0,96,8],[82,19,96,13,"_eventHandlers"],[82,33,96,8],[82,34,96,28,"type"],[82,38,96,8],[82,40,96,34,"set"],[82,43,96,8],[82,44,97,10,"handler"],[82,51,96,8],[82,53,98,10],[82,58,98,15,"addListener"],[82,69,98,10],[82,70,98,27],[82,85,98,10],[82,87,98,44,"handler"],[82,94,98,10],[82,95,96,8],[84,0,100,8],[85,0,101,7],[87,0,103,6],[87,15,103,11],[87,21,103,6],[88,0,104,6],[88,15,104,11],[88,22,104,6],[89,0,104,20],[90,0,105,8],[90,19,105,13,"_eventHandlers"],[90,33,105,8],[90,34,105,28,"type"],[90,38,105,8],[90,40,105,34,"set"],[90,43,105,8],[90,44,106,10,"handler"],[90,51,105,8],[90,53,107,10],[90,58,107,15,"addListener"],[90,69,107,10],[90,70,107,27],[90,91,107,10],[90,93,107,50],[90,103,107,50,"hasFocus"],[90,111,107,58],[90,113,107,62],[91,0,108,12],[91,20,108,16,"type"],[91,24,108,20],[91,29,108,25],[91,35,108,16],[91,39,108,35],[91,40,108,36,"hasFocus"],[91,48,108,12],[91,50,108,46],[92,0,109,14,"handler"],[92,18,109,14,"handler"],[92,25,109,21],[93,0,110,13],[95,0,111,12],[95,20,111,16,"type"],[95,24,111,20],[95,29,111,25],[95,36,111,16],[95,40,111,36,"hasFocus"],[95,48,111,12],[95,50,111,46],[96,0,112,14,"handler"],[96,18,112,14,"handler"],[96,25,112,21],[97,0,113,13],[98,0,114,11],[98,15,107,10],[98,16,105,8],[99,0,116,7],[100,0,85,4],[101,0,118,3],[104,13,125,2],[104,42,125,22,"type"],[104,46,125,2],[104,48,125,36,"handler"],[104,55,125,2],[104,57,125,55],[105,0,126,4,"invariant"],[105,8,126,4,"invariant"],[105,17,126,13],[105,18,127,6],[105,23,127,11,"_supportedEvents"],[105,39,127,6],[105,40,127,28,"indexOf"],[105,47,127,6],[105,48,127,36,"type"],[105,52,127,6],[105,58,127,46],[105,59,127,47],[105,60,126,13],[105,62,128,6],[105,113,126,13],[105,115,129,6,"type"],[105,119,126,13],[105,120,126,4],[107,0,131,4],[107,12,131,8],[107,13,131,9],[107,18,131,14,"_eventHandlers"],[107,32,131,9],[107,33,131,29,"type"],[107,37,131,9],[107,39,131,35,"has"],[107,42,131,9],[107,43,131,39,"handler"],[107,50,131,9],[107,51,131,4],[107,53,131,49],[108,0,132,6],[109,0,133,5],[111,0,134,4],[111,13,134,9,"_eventHandlers"],[111,27,134,4],[111,28,134,24,"type"],[111,32,134,4],[111,34,134,30,"get"],[111,37,134,4],[111,38,134,34,"handler"],[111,45,134,4],[111,47,134,43,"remove"],[111,53,134,4],[113,0,135,4],[113,13,135,9,"_eventHandlers"],[113,27,135,4],[113,28,135,24,"type"],[113,32,135,4],[113,34,135,30,"delete"],[113,40,135,4],[113,41,135,37,"handler"],[113,48,135,4],[114,0,136,3],[117,4,27,23,"NativeEventEmitter"],[117,22],[119,0,139,0],[119,11,139,9,"throwMissingNativeModule"],[119,35,139,0],[119,38,139,36],[120,0,140,2,"invariant"],[120,4,140,2,"invariant"],[120,13,140,11],[120,14,141,4],[120,19,140,11],[120,21,142,4],[120,108,143,6],[120,186,140,11],[120,187,140,2],[121,0,145,1],[123,6,147,6,"MissingNativeAppStateShim"],[123,31],[138,13,149,2,"isAvailable"],[138,24],[138,27,149,25],[138,32],[139,13,150,2,"currentState"],[139,25],[139,28,150,26],[139,32],[145,13,152,2],[145,39,152,19,"type"],[145,43,152,2],[145,45,152,33,"handler"],[145,52,152,2],[145,54,152,52],[146,0,153,4,"throwMissingNativeModule"],[146,8,153,4,"throwMissingNativeModule"],[146,32,153,28],[147,0,154,3],[150,13,156,2],[150,42,156,22,"type"],[150,46,156,2],[150,48,156,36,"handler"],[150,55,156,2],[150,57,156,55],[151,0,157,4,"throwMissingNativeModule"],[151,8,157,4,"throwMissingNativeModule"],[151,32,157,28],[152,0,158,3],[155,13,161,2],[155,36,161,16],[156,0,162,4,"throwMissingNativeModule"],[156,8,162,4,"throwMissingNativeModule"],[156,32,162,28],[157,0,163,3],[160,13,165,2],[160,43,165,23],[161,0,166,4,"throwMissingNativeModule"],[161,8,166,4,"throwMissingNativeModule"],[161,32,166,28],[162,0,167,3],[165,13,169,2],[165,43,169,23],[166,0,170,4,"throwMissingNativeModule"],[166,8,170,4,"throwMissingNativeModule"],[166,32,170,28],[167,0,171,3],[170,4,147,40,"EventEmitter"],[170,16],[172,0,177,0],[172,6,177,6,"AppStateInstance"],[172,22,177,60],[172,25,177,63,"NativeAppState"],[172,51,178,4],[172,55,178,8,"AppState"],[172,63,178,4],[172,65,177,63],[172,68,179,4],[172,72,179,8,"MissingNativeAppStateShim"],[172,97,179,4],[172,99,177,0],[173,0,181,0,"module"],[173,2,181,0,"module"],[173,8,181,6],[173,9,181,7,"exports"],[173,16,181,0],[173,19,181,17,"AppStateInstance"],[173,35,181,0]],"functionMap":{"names":["<global>","AppState","constructor","_supportedEvents.reduce$argument_0","addListener$argument_1","NativeAppState.getCurrentAppState$argument_0","addEventListener","removeEventListener","throwMissingNativeModule","MissingNativeAppStateShim","MissingNativeAppStateShim#addEventListener","MissingNativeAppStateShim#removeEventListener","MissingNativeAppStateShim#addListener","MissingNativeAppStateShim#removeAllListeners","MissingNativeAppStateShim#removeSubscription"],"mappings":"AAA;AC0B;ECM;uDCI;KDG;0CEU;KFG;sCGK;KHM;GDC;EKa;gDFW;WEE;kDFgB;WEO;GLI;EMO;GNW;CDC;AQE;CRM;ASE;ECK;GDE;EEE;GFE;EGG;GHE;EIE;GJE;EKE;GLE;CTC"}},"type":"js/module"}]}