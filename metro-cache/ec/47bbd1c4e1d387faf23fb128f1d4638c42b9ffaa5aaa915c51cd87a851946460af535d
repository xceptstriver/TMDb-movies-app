{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/toConsumableArray","data":{"isAsync":false,"locs":[]}},{"name":"react","data":{"isAsync":false,"locs":[]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useEventEmitter;\n\n  var _toConsumableArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/toConsumableArray\"));\n\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[2], \"react\"));\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function useEventEmitter(listen) {\n    var listenRef = React.useRef(listen);\n    React.useEffect(function () {\n      listenRef.current = listen;\n    });\n    var listeners = React.useRef({});\n    var create = React.useCallback(function (target) {\n      var removeListener = function removeListener(type, callback) {\n        var callbacks = listeners.current[type] ? listeners.current[type][target] : undefined;\n\n        if (!callbacks) {\n          return;\n        }\n\n        var index = callbacks.indexOf(callback);\n        callbacks.splice(index, 1);\n      };\n\n      var addListener = function addListener(type, callback) {\n        listeners.current[type] = listeners.current[type] || {};\n        listeners.current[type][target] = listeners.current[type][target] || [];\n        listeners.current[type][target].push(callback);\n        return function () {\n          return removeListener(type, callback);\n        };\n      };\n\n      return {\n        addListener: addListener,\n        removeListener: removeListener\n      };\n    }, []);\n    var emit = React.useCallback(function (_ref) {\n      var _items$target, _ref2;\n\n      var type = _ref.type,\n          data = _ref.data,\n          target = _ref.target,\n          canPreventDefault = _ref.canPreventDefault;\n      var items = listeners.current[type] || {};\n      var callbacks = target !== undefined ? (_items$target = items[target]) == null ? void 0 : _items$target.slice() : (_ref2 = []).concat.apply(_ref2, (0, _toConsumableArray2.default)(Object.keys(items).map(function (t) {\n        return items[t];\n      }))).filter(function (cb, i, self) {\n        return self.lastIndexOf(cb) === i;\n      });\n      var event = {\n        get type() {\n          return type;\n        }\n\n      };\n\n      if (target !== undefined) {\n        Object.defineProperty(event, 'target', {\n          enumerable: true,\n          get: function get() {\n            return target;\n          }\n        });\n      }\n\n      if (data !== undefined) {\n        Object.defineProperty(event, 'data', {\n          enumerable: true,\n          get: function get() {\n            return data;\n          }\n        });\n      }\n\n      if (canPreventDefault) {\n        var defaultPrevented = false;\n        Object.defineProperties(event, {\n          defaultPrevented: {\n            enumerable: true,\n            get: function get() {\n              return defaultPrevented;\n            }\n          },\n          preventDefault: {\n            enumerable: true,\n            value: function value() {\n              defaultPrevented = true;\n            }\n          }\n        });\n      }\n\n      listenRef.current == null ? void 0 : listenRef.current(event);\n      callbacks == null ? void 0 : callbacks.forEach(function (cb) {\n        return cb(event);\n      });\n      return event;\n    }, []);\n    return React.useMemo(function () {\n      return {\n        create: create,\n        emit: emit\n      };\n    }, [create, emit]);\n  }\n});","lineCount":118,"map":[[11,0,1,0],[17,0,15,15],[17,11,15,24,"useEventEmitter"],[17,26,15,15],[17,27,16,2,"listen"],[17,33,15,15],[17,35,17,29],[18,0,18,2],[18,8,18,8,"listenRef"],[18,17,18,17],[18,20,18,20,"React"],[18,25,18,25],[18,26,18,26,"useRef"],[18,32,18,20],[18,33,18,33,"listen"],[18,39,18,20],[18,40,18,2],[19,0,20,2,"React"],[19,4,20,2,"React"],[19,9,20,7],[19,10,20,8,"useEffect"],[19,19,20,2],[19,20,20,18],[19,32,20,24],[20,0,21,4,"listenRef"],[20,6,21,4,"listenRef"],[20,15,21,13],[20,16,21,14,"current"],[20,23,21,4],[20,26,21,24,"listen"],[20,32,21,4],[21,0,22,3],[21,5,20,2],[22,0,24,2],[22,8,24,8,"listeners"],[22,17,24,17],[22,20,24,20,"React"],[22,25,24,25],[22,26,24,26,"useRef"],[22,32,24,20],[22,33,24,76],[22,35,24,20],[22,36,24,2],[23,0,26,2],[23,8,26,8,"create"],[23,14,26,14],[23,17,26,17,"React"],[23,22,26,22],[23,23,26,23,"useCallback"],[23,34,26,17],[23,35,26,35],[23,45,26,36,"target"],[23,51,26,35],[23,53,26,55],[24,0,27,4],[24,10,27,10,"removeListener"],[24,24,27,24],[24,27,27,27],[24,36,27,10,"removeListener"],[24,50,27,27],[24,51,27,28,"type"],[24,55,27,27],[24,57,27,42,"callback"],[24,65,27,27],[24,67,27,76],[25,0,28,6],[25,12,28,12,"callbacks"],[25,21,28,21],[25,24,28,24,"listeners"],[25,33,28,33],[25,34,28,34,"current"],[25,41,28,24],[25,42,28,42,"type"],[25,46,28,24],[25,50,29,10,"listeners"],[25,59,29,19],[25,60,29,20,"current"],[25,67,29,10],[25,68,29,28,"type"],[25,72,29,10],[25,74,29,34,"target"],[25,80,29,10],[25,81,28,24],[25,84,30,10,"undefined"],[25,93,28,6],[27,0,32,6],[27,12,32,10],[27,13,32,11,"callbacks"],[27,22,32,6],[27,24,32,22],[28,0,33,8],[29,0,34,7],[31,0,36,6],[31,12,36,12,"index"],[31,17,36,17],[31,20,36,20,"callbacks"],[31,29,36,29],[31,30,36,30,"indexOf"],[31,37,36,20],[31,38,36,38,"callback"],[31,46,36,20],[31,47,36,6],[32,0,38,6,"callbacks"],[32,8,38,6,"callbacks"],[32,17,38,15],[32,18,38,16,"splice"],[32,24,38,6],[32,25,38,23,"index"],[32,30,38,6],[32,32,38,30],[32,33,38,6],[33,0,39,5],[33,7,27,4],[35,0,41,4],[35,10,41,10,"addListener"],[35,21,41,21],[35,24,41,24],[35,33,41,10,"addListener"],[35,44,41,24],[35,45,41,25,"type"],[35,49,41,24],[35,51,41,39,"callback"],[35,59,41,24],[35,61,41,73],[36,0,42,6,"listeners"],[36,8,42,6,"listeners"],[36,17,42,15],[36,18,42,16,"current"],[36,25,42,6],[36,26,42,24,"type"],[36,30,42,6],[36,34,42,32,"listeners"],[36,43,42,41],[36,44,42,42,"current"],[36,51,42,32],[36,52,42,50,"type"],[36,56,42,32],[36,61,42,59],[36,63,42,6],[37,0,43,6,"listeners"],[37,8,43,6,"listeners"],[37,17,43,15],[37,18,43,16,"current"],[37,25,43,6],[37,26,43,24,"type"],[37,30,43,6],[37,32,43,30,"target"],[37,38,43,6],[37,42,43,40,"listeners"],[37,51,43,49],[37,52,43,50,"current"],[37,59,43,40],[37,60,43,58,"type"],[37,64,43,40],[37,66,43,64,"target"],[37,72,43,40],[37,77,43,75],[37,79,43,6],[38,0,44,6,"listeners"],[38,8,44,6,"listeners"],[38,17,44,15],[38,18,44,16,"current"],[38,25,44,6],[38,26,44,24,"type"],[38,30,44,6],[38,32,44,30,"target"],[38,38,44,6],[38,40,44,38,"push"],[38,44,44,6],[38,45,44,43,"callback"],[38,53,44,6],[39,0,46,6],[39,15,46,13],[40,0,46,13],[40,17,46,19,"removeListener"],[40,31,46,33],[40,32,46,34,"type"],[40,36,46,33],[40,38,46,40,"callback"],[40,46,46,33],[40,47,46,13],[41,0,46,13],[41,9,46,6],[42,0,47,5],[42,7,41,4],[44,0,49,4],[44,13,49,11],[45,0,50,6,"addListener"],[45,8,50,6,"addListener"],[45,19,50,17],[45,21,50,6,"addListener"],[45,32,49,11],[46,0,51,6,"removeListener"],[46,8,51,6,"removeListener"],[46,22,51,20],[46,24,51,6,"removeListener"],[47,0,49,11],[47,7,49,4],[48,0,53,3],[48,5,26,17],[48,7,53,5],[48,9,26,17],[48,10,26,2],[49,0,55,2],[49,8,55,8,"emit"],[49,12,55,12],[49,15,55,15,"React"],[49,20,55,20],[49,21,55,21,"useCallback"],[49,32,55,15],[49,33,56,4],[49,49,66,10],[50,0,66,10],[52,0,66,10],[52,10,57,6,"type"],[52,14,66,10],[52,22,57,6,"type"],[52,26,66,10],[53,0,66,10],[53,10,58,6,"data"],[53,14,66,10],[53,22,58,6,"data"],[53,26,66,10],[54,0,66,10],[54,10,59,6,"target"],[54,16,66,10],[54,24,59,6,"target"],[54,30,66,10],[55,0,66,10],[55,10,60,6,"canPreventDefault"],[55,27,66,10],[55,35,60,6,"canPreventDefault"],[55,52,66,10],[56,0,67,6],[56,10,67,12,"items"],[56,15,67,17],[56,18,67,20,"listeners"],[56,27,67,29],[56,28,67,30,"current"],[56,35,67,20],[56,36,67,38,"type"],[56,40,67,20],[56,45,67,47],[56,47,67,6],[57,0,70,6],[57,10,70,12,"callbacks"],[57,19,70,21],[57,22,71,8,"target"],[57,28,71,14],[57,33,71,19,"undefined"],[57,42,71,8],[57,62,72,12,"items"],[57,67,72,17],[57,68,72,18,"target"],[57,74,72,17],[57,75,71,8],[57,96,72,12],[57,110,72,27,"slice"],[57,115,72,12],[57,117,71,8],[57,120,73,12],[57,129,73,13],[57,131,73,12],[57,133,74,15,"concat"],[57,139,73,12],[57,186,74,25,"Object"],[57,192,74,31],[57,193,74,32,"keys"],[57,197,74,25],[57,198,74,37,"items"],[57,203,74,25],[57,205,74,44,"map"],[57,208,74,25],[57,209,74,48],[57,219,74,49,"t"],[57,220,74,48],[58,0,74,48],[58,15,74,55,"items"],[58,20,74,60],[58,21,74,61,"t"],[58,22,74,60],[58,23,74,48],[59,0,74,48],[59,7,74,25],[59,8,73,12],[59,11,75,15,"filter"],[59,17,73,12],[59,18,75,22],[59,28,75,23,"cb"],[59,30,75,22],[59,32,75,27,"i"],[59,33,75,22],[59,35,75,30,"self"],[59,39,75,22],[60,0,75,22],[60,15,75,39,"self"],[60,19,75,43],[60,20,75,44,"lastIndexOf"],[60,31,75,39],[60,32,75,56,"cb"],[60,34,75,39],[60,40,75,64,"i"],[60,41,75,22],[61,0,75,22],[61,7,73,12],[61,8,70,6],[62,0,77,6],[62,10,77,12,"event"],[62,15,77,42],[62,18,77,45],[63,0,78,8],[63,12,78,12,"type"],[63,16,78,8],[63,19,78,19],[64,0,79,10],[64,17,79,17,"type"],[64,21,79,10],[65,0,80,9],[67,0,77,45],[67,7,77,6],[69,0,83,6],[69,10,83,10,"target"],[69,16,83,16],[69,21,83,21,"undefined"],[69,30,83,6],[69,32,83,32],[70,0,84,8,"Object"],[70,8,84,8,"Object"],[70,14,84,14],[70,15,84,15,"defineProperty"],[70,29,84,8],[70,30,84,30,"event"],[70,35,84,8],[70,37,84,37],[70,45,84,8],[70,47,84,47],[71,0,85,10,"enumerable"],[71,10,85,10,"enumerable"],[71,20,85,20],[71,22,85,22],[71,26,84,47],[72,0,86,10,"get"],[72,10,86,10,"get"],[72,13,84,47],[72,30,86,16],[73,0,87,12],[73,19,87,19,"target"],[73,25,87,12],[74,0,88,11],[75,0,84,47],[75,9,84,8],[76,0,90,7],[78,0,92,6],[78,10,92,10,"data"],[78,14,92,14],[78,19,92,19,"undefined"],[78,28,92,6],[78,30,92,30],[79,0,93,8,"Object"],[79,8,93,8,"Object"],[79,14,93,14],[79,15,93,15,"defineProperty"],[79,29,93,8],[79,30,93,30,"event"],[79,35,93,8],[79,37,93,37],[79,43,93,8],[79,45,93,45],[80,0,94,10,"enumerable"],[80,10,94,10,"enumerable"],[80,20,94,20],[80,22,94,22],[80,26,93,45],[81,0,95,10,"get"],[81,10,95,10,"get"],[81,13,93,45],[81,30,95,16],[82,0,96,12],[82,19,96,19,"data"],[82,23,96,12],[83,0,97,11],[84,0,93,45],[84,9,93,8],[85,0,99,7],[87,0,101,6],[87,10,101,10,"canPreventDefault"],[87,27,101,6],[87,29,101,29],[88,0,102,8],[88,12,102,12,"defaultPrevented"],[88,28,102,28],[88,31,102,31],[88,36,102,8],[89,0,104,8,"Object"],[89,8,104,8,"Object"],[89,14,104,14],[89,15,104,15,"defineProperties"],[89,31,104,8],[89,32,104,32,"event"],[89,37,104,8],[89,39,104,39],[90,0,105,10,"defaultPrevented"],[90,10,105,10,"defaultPrevented"],[90,26,105,26],[90,28,105,28],[91,0,106,12,"enumerable"],[91,12,106,12,"enumerable"],[91,22,106,22],[91,24,106,24],[91,28,105,28],[92,0,107,12,"get"],[92,12,107,12,"get"],[92,15,105,28],[92,32,107,18],[93,0,108,14],[93,21,108,21,"defaultPrevented"],[93,37,108,14],[94,0,109,13],[95,0,105,28],[95,11,104,39],[96,0,111,10,"preventDefault"],[96,10,111,10,"preventDefault"],[96,24,111,24],[96,26,111,26],[97,0,112,12,"enumerable"],[97,12,112,12,"enumerable"],[97,22,112,22],[97,24,112,24],[97,28,111,26],[98,0,113,12,"value"],[98,12,113,12,"value"],[98,17,111,26],[98,36,113,20],[99,0,114,14,"defaultPrevented"],[99,14,114,14,"defaultPrevented"],[99,30,114,30],[99,33,114,33],[99,37,114,14],[100,0,115,13],[101,0,111,26],[102,0,104,39],[102,9,104,8],[103,0,118,7],[105,0,120,6,"listenRef"],[105,6,120,6,"listenRef"],[105,15,120,15],[105,16,120,16,"current"],[105,23,120,6],[105,43,120,6,"listenRef"],[105,52,120,15],[105,53,120,16,"current"],[105,60,120,6],[105,61,120,26,"event"],[105,66,120,6],[106,0,122,6,"callbacks"],[106,6,122,6,"callbacks"],[106,15,122,15],[106,23,122,6],[106,35,122,6,"callbacks"],[106,44,122,15],[106,45,122,17,"forEach"],[106,52,122,6],[106,53,122,25],[106,63,122,26,"cb"],[106,65,122,25],[107,0,122,25],[107,15,122,33,"cb"],[107,17,122,35],[107,18,122,36,"event"],[107,23,122,35],[107,24,122,25],[108,0,122,25],[108,7,122,6],[109,0,124,6],[109,13,124,13,"event"],[109,18,124,6],[110,0,125,5],[110,5,55,15],[110,7,126,4],[110,9,55,15],[110,10,55,2],[111,0,129,2],[111,11,129,9,"React"],[111,16,129,14],[111,17,129,15,"useMemo"],[111,24,129,9],[111,25,129,23],[112,0,129,23],[112,13,129,30],[113,0,129,32,"create"],[113,8,129,32,"create"],[113,14,129,38],[113,16,129,32,"create"],[113,22,129,30],[114,0,129,40,"emit"],[114,8,129,40,"emit"],[114,12,129,44],[114,14,129,40,"emit"],[115,0,129,30],[115,7,129,23],[116,0,129,23],[116,5,129,9],[116,7,129,49],[116,8,129,50,"create"],[116,14,129,49],[116,16,129,58,"emit"],[116,20,129,49],[116,21,129,9],[116,22,129,2],[117,0,130,1]],"functionMap":{"names":["<global>","useEventEmitter","React.useEffect$argument_0","React.useCallback$argument_0","removeListener","addListener","<anonymous>","Object.keys.map$argument_0","concat.filter$argument_0","event.get__type","Object.defineProperty$argument_2.get","Object.defineProperties$argument_1.defaultPrevented.get","Object.defineProperties$argument_1.preventDefault.value","React.useMemo$argument_0"],"mappings":"AAA;eCc;kBCK;GDE;mCEI;2BCC;KDY;wBEE;aCK,oCD;KFC;GFM;IEG;gDIkB,eJ;sBKC,2CL;QMG;SNE;UOM;WPE;UOO;WPE;YQU;aRE;YSI;aTE;yBGO,iBH;KFG;uBYI,wBZ;CDC"}},"type":"js/module"}]}