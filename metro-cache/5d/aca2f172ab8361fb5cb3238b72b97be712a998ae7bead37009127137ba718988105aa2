{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false,"locs":[]}},{"name":"./LogBoxSymbolication","data":{"isAsync":false,"locs":[]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var LogBoxSymbolication = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[3], \"./LogBoxSymbolication\"));\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  var LogBoxLog = function () {\n    function LogBoxLog(data) {\n      (0, _classCallCheck2.default)(this, LogBoxLog);\n      this.symbolicated = {\n        error: null,\n        stack: null,\n        status: 'NONE'\n      };\n      this.level = data.level;\n      this.type = data.type;\n      this.message = data.message;\n      this.stack = data.stack;\n      this.category = data.category;\n      this.componentStack = data.componentStack;\n      this.codeFrame = data.codeFrame;\n      this.isComponentError = data.isComponentError;\n      this.count = 1;\n    }\n\n    (0, _createClass2.default)(LogBoxLog, [{\n      key: \"incrementCount\",\n      value: function incrementCount() {\n        this.count += 1;\n      }\n    }, {\n      key: \"getAvailableStack\",\n      value: function getAvailableStack() {\n        return this.symbolicated.status === 'COMPLETE' ? this.symbolicated.stack : this.stack;\n      }\n    }, {\n      key: \"retrySymbolicate\",\n      value: function retrySymbolicate(callback) {\n        if (this.symbolicated.status !== 'COMPLETE') {\n          LogBoxSymbolication.deleteStack(this.stack);\n          this.handleSymbolicate(callback);\n        }\n      }\n    }, {\n      key: \"symbolicate\",\n      value: function symbolicate(callback) {\n        if (this.symbolicated.status === 'NONE') {\n          this.handleSymbolicate(callback);\n        }\n      }\n    }, {\n      key: \"handleSymbolicate\",\n      value: function handleSymbolicate(callback) {\n        var _this = this;\n\n        if (this.symbolicated.status !== 'PENDING') {\n          this.updateStatus(null, null, null, callback);\n          LogBoxSymbolication.symbolicate(this.stack).then(function (data) {\n            _this.updateStatus(null, data == null ? void 0 : data.stack, data == null ? void 0 : data.codeFrame, callback);\n          }, function (error) {\n            _this.updateStatus(error, null, null, callback);\n          });\n        }\n      }\n    }, {\n      key: \"updateStatus\",\n      value: function updateStatus(error, stack, codeFrame, callback) {\n        var lastStatus = this.symbolicated.status;\n\n        if (error != null) {\n          this.symbolicated = {\n            error: error,\n            stack: null,\n            status: 'FAILED'\n          };\n        } else if (stack != null) {\n          if (codeFrame) {\n            this.codeFrame = codeFrame;\n          }\n\n          this.symbolicated = {\n            error: null,\n            stack: stack,\n            status: 'COMPLETE'\n          };\n        } else {\n          this.symbolicated = {\n            error: null,\n            stack: null,\n            status: 'PENDING'\n          };\n        }\n\n        if (callback && lastStatus !== this.symbolicated.status) {\n          callback(this.symbolicated.status);\n        }\n      }\n    }]);\n    return LogBoxLog;\n  }();\n\n  var _default = LogBoxLog;\n  exports.default = _default;\n});","lineCount":118,"map":[[2,0,11,0],[15,0,13,0],[21,6,38,6,"LogBoxLog"],[21,15],[22,0,58,2],[22,23,58,14,"data"],[22,27,58,2],[22,29,58,35],[23,0,58,35],[24,0,58,35],[24,11,48,2,"symbolicated"],[24,23,58,35],[24,26,52,67],[25,0,53,4,"error"],[25,8,53,4,"error"],[25,13,53,9],[25,15,53,11],[25,19,52,67],[26,0,54,4,"stack"],[26,8,54,4,"stack"],[26,13,54,9],[26,15,54,11],[26,19,52,67],[27,0,55,4,"status"],[27,8,55,4,"status"],[27,14,55,10],[27,16,55,12],[28,0,52,67],[28,7,58,35],[29,0,59,4],[29,11,59,9,"level"],[29,16,59,4],[29,19,59,17,"data"],[29,23,59,21],[29,24,59,22,"level"],[29,29,59,4],[30,0,60,4],[30,11,60,9,"type"],[30,15,60,4],[30,18,60,16,"data"],[30,22,60,20],[30,23,60,21,"type"],[30,27,60,4],[31,0,61,4],[31,11,61,9,"message"],[31,18,61,4],[31,21,61,19,"data"],[31,25,61,23],[31,26,61,24,"message"],[31,33,61,4],[32,0,62,4],[32,11,62,9,"stack"],[32,16,62,4],[32,19,62,17,"data"],[32,23,62,21],[32,24,62,22,"stack"],[32,29,62,4],[33,0,63,4],[33,11,63,9,"category"],[33,19,63,4],[33,22,63,20,"data"],[33,26,63,24],[33,27,63,25,"category"],[33,35,63,4],[34,0,64,4],[34,11,64,9,"componentStack"],[34,25,64,4],[34,28,64,26,"data"],[34,32,64,30],[34,33,64,31,"componentStack"],[34,47,64,4],[35,0,65,4],[35,11,65,9,"codeFrame"],[35,20,65,4],[35,23,65,21,"data"],[35,27,65,25],[35,28,65,26,"codeFrame"],[35,37,65,4],[36,0,66,4],[36,11,66,9,"isComponentError"],[36,27,66,4],[36,30,66,28,"data"],[36,34,66,32],[36,35,66,33,"isComponentError"],[36,51,66,4],[37,0,67,4],[37,11,67,9,"count"],[37,16,67,4],[37,19,67,17],[37,20,67,4],[38,0,68,3],[42,13,70,2],[42,39,70,25],[43,0,71,4],[43,13,71,9,"count"],[43,18,71,4],[43,22,71,18],[43,23,71,4],[44,0,72,3],[47,13,74,2],[47,42,74,29],[48,0,75,4],[48,15,75,11],[48,20,75,16,"symbolicated"],[48,32,75,11],[48,33,75,29,"status"],[48,39,75,11],[48,44,75,40],[48,54,75,11],[48,57,76,8],[48,62,76,13,"symbolicated"],[48,74,76,8],[48,75,76,26,"stack"],[48,80,75,11],[48,83,77,8],[48,88,77,13,"stack"],[48,93,75,4],[49,0,78,3],[52,13,80,2],[52,39,80,19,"callback"],[52,47,80,2],[52,49,80,75],[53,0,81,4],[53,12,81,8],[53,17,81,13,"symbolicated"],[53,29,81,8],[53,30,81,26,"status"],[53,36,81,8],[53,41,81,37],[53,51,81,4],[53,53,81,49],[54,0,82,6,"LogBoxSymbolication"],[54,10,82,6,"LogBoxSymbolication"],[54,29,82,25],[54,30,82,26,"deleteStack"],[54,41,82,6],[54,42,82,38],[54,47,82,43,"stack"],[54,52,82,6],[55,0,83,6],[55,15,83,11,"handleSymbolicate"],[55,32,83,6],[55,33,83,29,"callback"],[55,41,83,6],[56,0,84,5],[57,0,85,3],[60,13,87,2],[60,34,87,14,"callback"],[60,42,87,2],[60,44,87,70],[61,0,88,4],[61,12,88,8],[61,17,88,13,"symbolicated"],[61,29,88,8],[61,30,88,26,"status"],[61,36,88,8],[61,41,88,37],[61,47,88,4],[61,49,88,45],[62,0,89,6],[62,15,89,11,"handleSymbolicate"],[62,32,89,6],[62,33,89,29,"callback"],[62,41,89,6],[63,0,90,5],[64,0,91,3],[67,13,93,2],[67,40,93,20,"callback"],[67,48,93,2],[67,50,93,76],[68,0,93,76],[70,0,94,4],[70,12,94,8],[70,17,94,13,"symbolicated"],[70,29,94,8],[70,30,94,26,"status"],[70,36,94,8],[70,41,94,37],[70,50,94,4],[70,52,94,48],[71,0,95,6],[71,15,95,11,"updateStatus"],[71,27,95,6],[71,28,95,24],[71,32,95,6],[71,34,95,30],[71,38,95,6],[71,40,95,36],[71,44,95,6],[71,46,95,42,"callback"],[71,54,95,6],[72,0,96,6,"LogBoxSymbolication"],[72,10,96,6,"LogBoxSymbolication"],[72,29,96,25],[72,30,96,26,"symbolicate"],[72,41,96,6],[72,42,96,38],[72,47,96,43,"stack"],[72,52,96,6],[72,54,96,50,"then"],[72,58,96,6],[72,59,97,8],[72,69,97,8,"data"],[72,73,97,12],[72,75,97,16],[73,0,98,10],[73,12,98,10],[73,17,98,14],[73,18,98,15,"updateStatus"],[73,30,98,10],[73,31,98,28],[73,35,98,10],[73,37,98,34,"data"],[73,41,98,10],[73,61,98,34,"data"],[73,65,98,38],[73,66,98,40,"stack"],[73,71,98,10],[73,73,98,47,"data"],[73,77,98,10],[73,97,98,47,"data"],[73,101,98,51],[73,102,98,53,"codeFrame"],[73,111,98,10],[73,113,98,64,"callback"],[73,121,98,10],[74,0,99,9],[74,11,96,6],[74,13,100,8],[74,23,100,8,"error"],[74,28,100,13],[74,30,100,17],[75,0,101,10],[75,12,101,10],[75,17,101,14],[75,18,101,15,"updateStatus"],[75,30,101,10],[75,31,101,28,"error"],[75,36,101,10],[75,38,101,35],[75,42,101,10],[75,44,101,41],[75,48,101,10],[75,50,101,47,"callback"],[75,58,101,10],[76,0,102,9],[76,11,96,6],[77,0,104,5],[78,0,105,3],[81,13,107,2],[81,35,108,4,"error"],[81,40,107,2],[81,42,109,4,"stack"],[81,47,107,2],[81,49,110,4,"codeFrame"],[81,58,107,2],[81,60,111,4,"callback"],[81,68,107,2],[81,70,112,10],[82,0,113,4],[82,12,113,10,"lastStatus"],[82,22,113,20],[82,25,113,23],[82,30,113,28,"symbolicated"],[82,42,113,23],[82,43,113,41,"status"],[82,49,113,4],[84,0,114,4],[84,12,114,8,"error"],[84,17,114,13],[84,21,114,17],[84,25,114,4],[84,27,114,23],[85,0,115,6],[85,15,115,11,"symbolicated"],[85,27,115,6],[85,30,115,26],[86,0,116,8,"error"],[86,12,116,8,"error"],[86,17,116,13],[86,19,116,8,"error"],[86,24,115,26],[87,0,117,8,"stack"],[87,12,117,8,"stack"],[87,17,117,13],[87,19,117,15],[87,23,115,26],[88,0,118,8,"status"],[88,12,118,8,"status"],[88,18,118,14],[88,20,118,16],[89,0,115,26],[89,11,115,6],[90,0,120,5],[90,9,114,4],[90,15,120,11],[90,19,120,15,"stack"],[90,24,120,20],[90,28,120,24],[90,32,120,11],[90,34,120,30],[91,0,121,6],[91,14,121,10,"codeFrame"],[91,23,121,6],[91,25,121,21],[92,0,122,8],[92,17,122,13,"codeFrame"],[92,26,122,8],[92,29,122,25,"codeFrame"],[92,38,122,8],[93,0,123,7],[95,0,125,6],[95,15,125,11,"symbolicated"],[95,27,125,6],[95,30,125,26],[96,0,126,8,"error"],[96,12,126,8,"error"],[96,17,126,13],[96,19,126,15],[96,23,125,26],[97,0,127,8,"stack"],[97,12,127,8,"stack"],[97,17,127,13],[97,19,127,8,"stack"],[97,24,125,26],[98,0,128,8,"status"],[98,12,128,8,"status"],[98,18,128,14],[98,20,128,16],[99,0,125,26],[99,11,125,6],[100,0,130,5],[100,9,120,11],[100,15,130,11],[101,0,131,6],[101,15,131,11,"symbolicated"],[101,27,131,6],[101,30,131,26],[102,0,132,8,"error"],[102,12,132,8,"error"],[102,17,132,13],[102,19,132,15],[102,23,131,26],[103,0,133,8,"stack"],[103,12,133,8,"stack"],[103,17,133,13],[103,19,133,15],[103,23,131,26],[104,0,134,8,"status"],[104,12,134,8,"status"],[104,18,134,14],[104,20,134,16],[105,0,131,26],[105,11,131,6],[106,0,136,5],[108,0,138,4],[108,12,138,8,"callback"],[108,20,138,16],[108,24,138,20,"lastStatus"],[108,34,138,30],[108,39,138,35],[108,44,138,40,"symbolicated"],[108,56,138,35],[108,57,138,53,"status"],[108,63,138,4],[108,65,138,61],[109,0,139,6,"callback"],[109,10,139,6,"callback"],[109,18,139,14],[109,19,139,15],[109,24,139,20,"symbolicated"],[109,36,139,15],[109,37,139,33,"status"],[109,43,139,14],[109,44,139,6],[110,0,140,5],[111,0,141,3],[116,17,144,15,"LogBoxLog"],[116,26]],"functionMap":{"names":["<global>","LogBoxLog","constructor","incrementCount","getAvailableStack","retrySymbolicate","symbolicate","handleSymbolicate","LogBoxSymbolication.symbolicate.then$argument_0","LogBoxSymbolication.symbolicate.then$argument_1","updateStatus"],"mappings":"AAA;ACqC;ECoB;GDU;EEE;GFE;EGE;GHI;EIE;GJK;EKE;GLI;EME;QCI;SDE;QEC;SFE;GNG;ESE;GTkC;CDC"}},"type":"js/module"}]}