{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/extends","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false,"locs":[]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = getActionFromState;\n\n  var _slicedToArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\"));\n\n  var _extends2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/extends\"));\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/defineProperty\"));\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  function getActionFromState(state, options) {\n    var _state$index, _normalizedConfig$scr;\n\n    var normalizedConfig = options ? createNormalizedConfigItem(options) : {};\n    var routes = state.index != null ? state.routes.slice(0, state.index + 1) : state.routes;\n\n    if (routes.length === 0) {\n      return undefined;\n    }\n\n    if (!(routes.length === 1 && routes[0].key === undefined || routes.length === 2 && routes[0].key === undefined && routes[0].name === (normalizedConfig == null ? void 0 : normalizedConfig.initialRouteName) && routes[1].key === undefined)) {\n      return {\n        type: 'RESET',\n        payload: state\n      };\n    }\n\n    var route = state.routes[(_state$index = state.index) != null ? _state$index : state.routes.length - 1];\n    var current = route == null ? void 0 : route.state;\n    var config = normalizedConfig == null ? void 0 : (_normalizedConfig$scr = normalizedConfig.screens) == null ? void 0 : _normalizedConfig$scr[route == null ? void 0 : route.name];\n\n    var params = _objectSpread({}, route.params);\n\n    var payload = route ? {\n      name: route.name,\n      params: params\n    } : undefined;\n\n    while (current) {\n      var _config, _config2, _config2$screens;\n\n      if (current.routes.length === 0) {\n        return undefined;\n      }\n\n      var _routes = current.index != null ? current.routes.slice(0, current.index + 1) : current.routes;\n\n      var _route = _routes[_routes.length - 1];\n      (0, _extends2.default)(params, {\n        initial: undefined,\n        screen: undefined,\n        params: undefined,\n        state: undefined\n      });\n\n      if (_routes.length === 1 && _routes[0].key === undefined) {\n        params.initial = true;\n        params.screen = _route.name;\n      } else if (_routes.length === 2 && _routes[0].key === undefined && _routes[0].name === ((_config = config) == null ? void 0 : _config.initialRouteName) && _routes[1].key === undefined) {\n        params.initial = false;\n        params.screen = _route.name;\n      } else {\n        params.state = current;\n        break;\n      }\n\n      if (_route.state) {\n        params.params = _objectSpread({}, _route.params);\n        params = params.params;\n      } else {\n        params.params = _route.params;\n      }\n\n      current = _route.state;\n      config = (_config2 = config) == null ? void 0 : (_config2$screens = _config2.screens) == null ? void 0 : _config2$screens[_route.name];\n    }\n\n    if (!payload) {\n      return;\n    }\n\n    return {\n      type: 'NAVIGATE',\n      payload: payload\n    };\n  }\n\n  var createNormalizedConfigItem = function createNormalizedConfigItem(config) {\n    return typeof config === 'object' && config != null ? {\n      initialRouteName: config.initialRouteName,\n      screens: config.screens != null ? createNormalizedConfigs(config.screens) : undefined\n    } : {};\n  };\n\n  var createNormalizedConfigs = function createNormalizedConfigs(options) {\n    return Object.entries(options).reduce(function (acc, _ref) {\n      var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n          k = _ref2[0],\n          v = _ref2[1];\n\n      acc[k] = createNormalizedConfigItem(v);\n      return acc;\n    }, {});\n  };\n});","lineCount":113,"map":[[19,0,26,15],[19,11,26,24,"getActionFromState"],[19,29,26,15],[19,30,27,2,"state"],[19,35,26,15],[19,37,28,2,"options"],[19,44,26,15],[19,46,29,70],[20,0,29,70],[22,0,31,2],[22,8,31,8,"normalizedConfig"],[22,24,31,24],[22,27,31,27,"options"],[22,34,31,34],[22,37,31,37,"createNormalizedConfigItem"],[22,63,31,63],[22,64,31,64,"options"],[22,71,31,63],[22,72,31,34],[22,75,31,75],[22,77,31,2],[23,0,33,2],[23,8,33,8,"routes"],[23,14,33,14],[23,17,34,4,"state"],[23,22,34,9],[23,23,34,10,"index"],[23,28,34,4],[23,32,34,19],[23,36,34,4],[23,39,34,26,"state"],[23,44,34,31],[23,45,34,32,"routes"],[23,51,34,26],[23,52,34,39,"slice"],[23,57,34,26],[23,58,34,45],[23,59,34,26],[23,61,34,48,"state"],[23,66,34,53],[23,67,34,54,"index"],[23,72,34,48],[23,75,34,62],[23,76,34,26],[23,77,34,4],[23,80,34,67,"state"],[23,85,34,72],[23,86,34,73,"routes"],[23,92,33,2],[25,0,36,2],[25,8,36,6,"routes"],[25,14,36,12],[25,15,36,13,"length"],[25,21,36,6],[25,26,36,24],[25,27,36,2],[25,29,36,27],[26,0,37,4],[26,13,37,11,"undefined"],[26,22,37,4],[27,0,38,3],[29,0,40,2],[29,8,41,4],[29,10,42,7,"routes"],[29,16,42,13],[29,17,42,14,"length"],[29,23,42,7],[29,28,42,25],[29,29,42,7],[29,33,42,30,"routes"],[29,39,42,36],[29,40,42,37],[29,41,42,36],[29,42,42,30],[29,43,42,40,"key"],[29,46,42,30],[29,51,42,48,"undefined"],[29,60,42,6],[29,64,43,7,"routes"],[29,70,43,13],[29,71,43,14,"length"],[29,77,43,7],[29,82,43,25],[29,83,43,7],[29,87,44,8,"routes"],[29,93,44,14],[29,94,44,15],[29,95,44,14],[29,96,44,8],[29,97,44,18,"key"],[29,100,44,8],[29,105,44,26,"undefined"],[29,114,43,7],[29,118,45,8,"routes"],[29,124,45,14],[29,125,45,15],[29,126,45,14],[29,127,45,8],[29,128,45,18,"name"],[29,132,45,8],[29,138,45,27,"normalizedConfig"],[29,154,45,8],[29,174,45,27,"normalizedConfig"],[29,190,45,43],[29,191,45,45,"initialRouteName"],[29,207,45,8],[29,208,43,7],[29,212,46,8,"routes"],[29,218,46,14],[29,219,46,15],[29,220,46,14],[29,221,46,8],[29,222,46,18,"key"],[29,225,46,8],[29,230,46,26,"undefined"],[29,239,41,4],[29,240,40,2],[29,242,48,4],[30,0,49,4],[30,13,49,11],[31,0,50,6,"type"],[31,8,50,6,"type"],[31,12,50,10],[31,14,50,12],[31,21,49,11],[32,0,51,6,"payload"],[32,8,51,6,"payload"],[32,15,51,13],[32,17,51,15,"state"],[33,0,49,11],[33,7,49,4],[34,0,53,3],[36,0,55,2],[36,8,55,8,"route"],[36,13,55,13],[36,16,55,16,"state"],[36,21,55,21],[36,22,55,22,"routes"],[36,28,55,16],[36,45,55,29,"state"],[36,50,55,34],[36,51,55,35,"index"],[36,56,55,16],[36,83,55,44,"state"],[36,88,55,49],[36,89,55,50,"routes"],[36,95,55,44],[36,96,55,57,"length"],[36,102,55,44],[36,105,55,66],[36,106,55,16],[36,107,55,2],[37,0,57,2],[37,8,57,6,"current"],[37,15,57,56],[37,18,57,59,"route"],[37,23,57,56],[37,43,57,59,"route"],[37,48,57,64],[37,49,57,66,"state"],[37,54,57,2],[38,0,58,2],[38,8,58,6,"config"],[38,14,58,36],[38,17,58,39,"normalizedConfig"],[38,33,58,36],[38,78,58,39,"normalizedConfig"],[38,94,58,55],[38,95,58,57,"screens"],[38,102,58,36],[38,123,58,39],[38,145,58,67,"route"],[38,150,58,39],[38,170,58,67,"route"],[38,175,58,72],[38,176,58,74,"name"],[38,180,58,39],[38,181,58,2],[40,0,59,2],[40,8,59,6,"params"],[40,14,59,12],[40,35,59,20,"route"],[40,40,59,25],[40,41,59,26,"params"],[40,47,59,12],[40,48,59,2],[42,0,64,2],[42,8,64,6,"payload"],[42,15,64,13],[42,18,64,16,"route"],[42,23,64,21],[42,26,64,24],[43,0,64,26,"name"],[43,6,64,26,"name"],[43,10,64,30],[43,12,64,32,"route"],[43,17,64,37],[43,18,64,38,"name"],[43,22,64,24],[44,0,64,44,"params"],[44,6,64,44,"params"],[44,12,64,50],[44,14,64,44,"params"],[45,0,64,24],[45,5,64,21],[45,8,64,55,"undefined"],[45,17,64,2],[47,0,66,2],[47,11,66,9,"current"],[47,18,66,2],[47,20,66,18],[48,0,66,18],[50,0,67,4],[50,10,67,8,"current"],[50,17,67,15],[50,18,67,16,"routes"],[50,24,67,8],[50,25,67,23,"length"],[50,31,67,8],[50,36,67,34],[50,37,67,4],[50,39,67,37],[51,0,68,6],[51,15,68,13,"undefined"],[51,24,68,6],[52,0,69,5],[54,0,71,4],[54,10,71,10,"routes"],[54,17,71,16],[54,20,72,6,"current"],[54,27,72,13],[54,28,72,14,"index"],[54,33,72,6],[54,37,72,23],[54,41,72,6],[54,44,73,10,"current"],[54,51,73,17],[54,52,73,18,"routes"],[54,58,73,10],[54,59,73,25,"slice"],[54,64,73,10],[54,65,73,31],[54,66,73,10],[54,68,73,34,"current"],[54,75,73,41],[54,76,73,42,"index"],[54,81,73,34],[54,84,73,50],[54,85,73,10],[54,86,72,6],[54,89,74,10,"current"],[54,96,74,17],[54,97,74,18,"routes"],[54,103,71,4],[56,0,76,4],[56,10,76,10,"route"],[56,16,76,60],[56,19,77,6,"routes"],[56,26,77,12],[56,27,77,13,"routes"],[56,34,77,19],[56,35,77,20,"length"],[56,41,77,13],[56,44,77,29],[56,45,77,12],[56,46,76,4],[57,0,80,4],[57,29,80,18,"params"],[57,35,80,4],[57,37,80,26],[58,0,81,6,"initial"],[58,8,81,6,"initial"],[58,15,81,13],[58,17,81,15,"undefined"],[58,26,80,26],[59,0,82,6,"screen"],[59,8,82,6,"screen"],[59,14,82,12],[59,16,82,14,"undefined"],[59,25,80,26],[60,0,83,6,"params"],[60,8,83,6,"params"],[60,14,83,12],[60,16,83,14,"undefined"],[60,25,80,26],[61,0,84,6,"state"],[61,8,84,6,"state"],[61,13,84,11],[61,15,84,13,"undefined"],[62,0,80,26],[62,7,80,4],[64,0,87,4],[64,10,87,8,"routes"],[64,17,87,14],[64,18,87,15,"length"],[64,24,87,8],[64,29,87,26],[64,30,87,8],[64,34,87,31,"routes"],[64,41,87,37],[64,42,87,38],[64,43,87,37],[64,44,87,31],[64,45,87,41,"key"],[64,48,87,31],[64,53,87,49,"undefined"],[64,62,87,4],[64,64,87,60],[65,0,88,6,"params"],[65,8,88,6,"params"],[65,14,88,12],[65,15,88,13,"initial"],[65,22,88,6],[65,25,88,23],[65,29,88,6],[66,0,89,6,"params"],[66,8,89,6,"params"],[66,14,89,12],[66,15,89,13,"screen"],[66,21,89,6],[66,24,89,22,"route"],[66,30,89,27],[66,31,89,28,"name"],[66,35,89,6],[67,0,90,5],[67,7,87,4],[67,13,90,11],[67,17,91,6,"routes"],[67,24,91,12],[67,25,91,13,"length"],[67,31,91,6],[67,36,91,24],[67,37,91,6],[67,41,92,6,"routes"],[67,48,92,12],[67,49,92,13],[67,50,92,12],[67,51,92,6],[67,52,92,16,"key"],[67,55,92,6],[67,60,92,24,"undefined"],[67,69,91,6],[67,73,93,6,"routes"],[67,80,93,12],[67,81,93,13],[67,82,93,12],[67,83,93,6],[67,84,93,16,"name"],[67,88,93,6],[67,105,93,25,"config"],[67,111,93,6],[67,132,93,25],[67,140,93,33,"initialRouteName"],[67,156,93,6],[67,157,91,6],[67,161,94,6,"routes"],[67,168,94,12],[67,169,94,13],[67,170,94,12],[67,171,94,6],[67,172,94,16,"key"],[67,175,94,6],[67,180,94,24,"undefined"],[67,189,90,11],[67,191,95,6],[68,0,96,6,"params"],[68,8,96,6,"params"],[68,14,96,12],[68,15,96,13,"initial"],[68,22,96,6],[68,25,96,23],[68,30,96,6],[69,0,97,6,"params"],[69,8,97,6,"params"],[69,14,97,12],[69,15,97,13,"screen"],[69,21,97,6],[69,24,97,22,"route"],[69,30,97,27],[69,31,97,28,"name"],[69,35,97,6],[70,0,98,5],[70,7,90,11],[70,13,98,11],[71,0,99,6,"params"],[71,8,99,6,"params"],[71,14,99,12],[71,15,99,13,"state"],[71,20,99,6],[71,23,99,21,"current"],[71,30,99,6],[72,0,100,6],[73,0,101,5],[75,0,103,4],[75,10,103,8,"route"],[75,16,103,13],[75,17,103,14,"state"],[75,22,103,4],[75,24,103,21],[76,0,104,6,"params"],[76,8,104,6,"params"],[76,14,104,12],[76,15,104,13,"params"],[76,21,104,6],[76,42,104,27,"route"],[76,48,104,32],[76,49,104,33,"params"],[76,55,104,6],[77,0,105,6,"params"],[77,8,105,6,"params"],[77,14,105,12],[77,17,105,15,"params"],[77,23,105,21],[77,24,105,22,"params"],[77,30,105,6],[78,0,109,5],[78,7,103,4],[78,13,109,11],[79,0,110,6,"params"],[79,8,110,6,"params"],[79,14,110,12],[79,15,110,13,"params"],[79,21,110,6],[79,24,110,22,"route"],[79,30,110,27],[79,31,110,28,"params"],[79,37,110,6],[80,0,111,5],[82,0,113,4,"current"],[82,6,113,4,"current"],[82,13,113,11],[82,16,113,14,"route"],[82,22,113,19],[82,23,113,20,"state"],[82,28,113,4],[83,0,114,4,"config"],[83,6,114,4,"config"],[83,12,114,10],[83,27,114,13,"config"],[83,33,114,10],[83,74,114,13],[83,83,114,21,"screens"],[83,90,114,10],[83,111,114,13],[83,128,114,31,"route"],[83,134,114,36],[83,135,114,37,"name"],[83,139,114,13],[83,140,114,4],[84,0,115,3],[86,0,117,2],[86,8,117,6],[86,9,117,7,"payload"],[86,16,117,2],[86,18,117,16],[87,0,118,4],[88,0,119,3],[90,0,123,2],[90,11,123,9],[91,0,124,4,"type"],[91,6,124,4,"type"],[91,10,124,8],[91,12,124,10],[91,22,123,9],[92,0,125,4,"payload"],[92,6,125,4,"payload"],[92,13,125,11],[92,15,125,4,"payload"],[93,0,123,9],[93,5,123,2],[94,0,127,1],[96,0,129,0],[96,6,129,6,"createNormalizedConfigItem"],[96,32,129,32],[96,35,129,35],[96,44,129,6,"createNormalizedConfigItem"],[96,70,129,35],[96,71,129,36,"config"],[96,77,129,35],[97,0,129,35],[97,11,130,2],[97,18,130,9,"config"],[97,24,130,2],[97,29,130,20],[97,37,130,2],[97,41,130,32,"config"],[97,47,130,38],[97,51,130,42],[97,55,130,2],[97,58,131,6],[98,0,132,8,"initialRouteName"],[98,6,132,8,"initialRouteName"],[98,22,132,24],[98,24,132,26,"config"],[98,30,132,32],[98,31,132,33,"initialRouteName"],[98,47,131,6],[99,0,133,8,"screens"],[99,6,133,8,"screens"],[99,13,133,15],[99,15,134,10,"config"],[99,21,134,16],[99,22,134,17,"screens"],[99,29,134,10],[99,33,134,28],[99,37,134,10],[99,40,135,14,"createNormalizedConfigs"],[99,63,135,37],[99,64,135,38,"config"],[99,70,135,44],[99,71,135,45,"screens"],[99,78,135,37],[99,79,134,10],[99,82,136,14,"undefined"],[100,0,131,6],[100,5,130,2],[100,8,138,6],[100,10,129,35],[101,0,129,35],[101,3,129,0],[103,0,140,0],[103,6,140,6,"createNormalizedConfigs"],[103,29,140,29],[103,32,140,32],[103,41,140,6,"createNormalizedConfigs"],[103,64,140,32],[103,65,140,33,"options"],[103,72,140,32],[104,0,140,32],[104,11,141,2,"Object"],[104,17,141,8],[104,18,141,9,"entries"],[104,25,141,2],[104,26,141,17,"options"],[104,33,141,2],[104,35,141,26,"reduce"],[104,41,141,2],[104,42,141,61],[104,52,141,62,"acc"],[104,55,141,61],[104,63,141,78],[105,0,141,78],[106,0,141,78],[106,10,141,68,"k"],[106,11,141,78],[107,0,141,78],[107,10,141,71,"v"],[107,11,141,78],[109,0,142,4,"acc"],[109,6,142,4,"acc"],[109,9,142,7],[109,10,142,8,"k"],[109,11,142,7],[109,12,142,4],[109,15,142,13,"createNormalizedConfigItem"],[109,41,142,39],[109,42,142,40,"v"],[109,43,142,39],[109,44,142,4],[110,0,143,4],[110,13,143,11,"acc"],[110,16,143,4],[111,0,144,3],[111,5,141,2],[111,7,144,5],[111,9,141,2],[111,10,140,32],[112,0,140,32],[112,3,140,0]],"functionMap":{"names":["<global>","getActionFromState","createNormalizedConfigItem","createNormalizedConfigs","Object.entries.reduce$argument_0"],"mappings":"AAA;eCyB;CDqG;mCEE;QFS;gCGE;6DCC;GDG,KH"}},"type":"js/module"}]}