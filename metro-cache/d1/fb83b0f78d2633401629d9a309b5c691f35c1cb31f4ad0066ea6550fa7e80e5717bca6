{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false,"locs":[]}},{"name":"../NativeAnimatedHelper","data":{"isAsync":false,"locs":[{"start":{"line":13,"column":29},"end":{"line":13,"column":63}}]}},{"name":"invariant","data":{"isAsync":false,"locs":[{"start":{"line":16,"column":18},"end":{"line":16,"column":38}}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n\n  var _createClass = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n\n  var NativeAnimatedHelper = _$$_REQUIRE(_dependencyMap[2], \"../NativeAnimatedHelper\");\n\n  var NativeAnimatedAPI = NativeAnimatedHelper.API;\n\n  var invariant = _$$_REQUIRE(_dependencyMap[3], \"invariant\");\n\n  var _uniqueId = 1;\n\n  var AnimatedNode = function () {\n    function AnimatedNode() {\n      _classCallCheck(this, AnimatedNode);\n\n      this._listeners = {};\n    }\n\n    _createClass(AnimatedNode, [{\n      key: \"__attach\",\n      value: function __attach() {}\n    }, {\n      key: \"__detach\",\n      value: function __detach() {\n        if (this.__isNative && this.__nativeTag != null) {\n          NativeAnimatedHelper.API.dropAnimatedNode(this.__nativeTag);\n          this.__nativeTag = undefined;\n        }\n      }\n    }, {\n      key: \"__getValue\",\n      value: function __getValue() {}\n    }, {\n      key: \"__getAnimatedValue\",\n      value: function __getAnimatedValue() {\n        return this.__getValue();\n      }\n    }, {\n      key: \"__addChild\",\n      value: function __addChild(child) {}\n    }, {\n      key: \"__removeChild\",\n      value: function __removeChild(child) {}\n    }, {\n      key: \"__getChildren\",\n      value: function __getChildren() {\n        return [];\n      }\n    }, {\n      key: \"__makeNative\",\n      value: function __makeNative() {\n        if (!this.__isNative) {\n          throw new Error('This node cannot be made a \"native\" animated node');\n        }\n\n        if (this.hasListeners()) {\n          this._startListeningToNativeValueUpdates();\n        }\n      }\n    }, {\n      key: \"addListener\",\n      value: function addListener(callback) {\n        var id = String(_uniqueId++);\n        this._listeners[id] = callback;\n\n        if (this.__isNative) {\n          this._startListeningToNativeValueUpdates();\n        }\n\n        return id;\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener(id) {\n        delete this._listeners[id];\n\n        if (this.__isNative && !this.hasListeners()) {\n          this._stopListeningForNativeValueUpdates();\n        }\n      }\n    }, {\n      key: \"removeAllListeners\",\n      value: function removeAllListeners() {\n        this._listeners = {};\n\n        if (this.__isNative) {\n          this._stopListeningForNativeValueUpdates();\n        }\n      }\n    }, {\n      key: \"hasListeners\",\n      value: function hasListeners() {\n        return !!Object.keys(this._listeners).length;\n      }\n    }, {\n      key: \"_startListeningToNativeValueUpdates\",\n      value: function _startListeningToNativeValueUpdates() {\n        var _this = this;\n\n        if (this.__nativeAnimatedValueListener && !this.__shouldUpdateListenersForNewNativeTag) {\n          return;\n        }\n\n        if (this.__shouldUpdateListenersForNewNativeTag) {\n          this.__shouldUpdateListenersForNewNativeTag = false;\n\n          this._stopListeningForNativeValueUpdates();\n        }\n\n        NativeAnimatedAPI.startListeningToAnimatedNodeValue(this.__getNativeTag());\n        this.__nativeAnimatedValueListener = NativeAnimatedHelper.nativeEventEmitter.addListener('onAnimatedValueUpdate', function (data) {\n          if (data.tag !== _this.__getNativeTag()) {\n            return;\n          }\n\n          _this._onAnimatedValueUpdateReceived(data.value);\n        });\n      }\n    }, {\n      key: \"_onAnimatedValueUpdateReceived\",\n      value: function _onAnimatedValueUpdateReceived(value) {\n        this.__callListeners(value);\n      }\n    }, {\n      key: \"__callListeners\",\n      value: function __callListeners(value) {\n        for (var _key in this._listeners) {\n          this._listeners[_key]({\n            value: value\n          });\n        }\n      }\n    }, {\n      key: \"_stopListeningForNativeValueUpdates\",\n      value: function _stopListeningForNativeValueUpdates() {\n        if (!this.__nativeAnimatedValueListener) {\n          return;\n        }\n\n        this.__nativeAnimatedValueListener.remove();\n\n        this.__nativeAnimatedValueListener = null;\n        NativeAnimatedAPI.stopListeningToAnimatedNodeValue(this.__getNativeTag());\n      }\n    }, {\n      key: \"__getNativeTag\",\n      value: function __getNativeTag() {\n        var _this$__nativeTag;\n\n        NativeAnimatedHelper.assertNativeAnimatedModule();\n        invariant(this.__isNative, 'Attempt to get native tag from node not marked as \"native\"');\n        var nativeTag = (_this$__nativeTag = this.__nativeTag) != null ? _this$__nativeTag : NativeAnimatedHelper.generateNewNodeTag();\n\n        if (this.__nativeTag == null) {\n          this.__nativeTag = nativeTag;\n          NativeAnimatedHelper.API.createAnimatedNode(nativeTag, this.__getNativeConfig());\n          this.__shouldUpdateListenersForNewNativeTag = true;\n        }\n\n        return nativeTag;\n      }\n    }, {\n      key: \"__getNativeConfig\",\n      value: function __getNativeConfig() {\n        throw new Error('This JS animated node type cannot be used as native animated node');\n      }\n    }, {\n      key: \"toJSON\",\n      value: function toJSON() {\n        return this.__getValue();\n      }\n    }]);\n\n    return AnimatedNode;\n  }();\n\n  module.exports = AnimatedNode;\n});","lineCount":182,"map":[[2,0,11,0],[8,0,13,0],[8,6,13,6,"NativeAnimatedHelper"],[8,26,13,26],[8,29,13,29,"require"],[8,40,13,36],[8,86,13,0],[10,0,15,0],[10,6,15,6,"NativeAnimatedAPI"],[10,23,15,23],[10,26,15,26,"NativeAnimatedHelper"],[10,46,15,46],[10,47,15,47,"API"],[10,50,15,0],[12,0,16,0],[12,6,16,6,"invariant"],[12,15,16,15],[12,18,16,18,"require"],[12,29,16,25],[12,61,16,0],[14,0,20,0],[14,6,20,4,"_uniqueId"],[14,15,20,13],[14,18,20,16],[14,19,20,0],[16,6,24,6,"AnimatedNode"],[16,18],[17,0,49,2],[17,28,49,16],[18,0,49,16],[20,0,50,4],[20,11,50,9,"_listeners"],[20,21,50,4],[20,24,50,22],[20,26,50,4],[21,0,51,3],[25,13,27,2],[25,33,27,19],[25,34,27,21],[28,13,28,2],[28,33,28,19],[29,0,29,4],[29,12,29,8],[29,17,29,13,"__isNative"],[29,27,29,8],[29,31,29,27],[29,36,29,32,"__nativeTag"],[29,47,29,27],[29,51,29,47],[29,55,29,4],[29,57,29,53],[30,0,30,6,"NativeAnimatedHelper"],[30,10,30,6,"NativeAnimatedHelper"],[30,30,30,26],[30,31,30,27,"API"],[30,34,30,6],[30,35,30,31,"dropAnimatedNode"],[30,51,30,6],[30,52,30,48],[30,57,30,53,"__nativeTag"],[30,68,30,6],[31,0,31,6],[31,15,31,11,"__nativeTag"],[31,26,31,6],[31,29,31,25,"undefined"],[31,38,31,6],[32,0,32,5],[33,0,33,3],[36,13,34,2],[36,35,34,20],[36,36,34,22],[39,13,35,2],[39,43,35,28],[40,0,36,4],[40,15,36,11],[40,20,36,16,"__getValue"],[40,30,36,11],[40,32,36,4],[41,0,37,3],[44,13,38,2],[44,33,38,13,"child"],[44,38,38,2],[44,40,38,34],[44,41,38,36],[47,13,39,2],[47,36,39,16,"child"],[47,41,39,2],[47,43,39,37],[47,44,39,39],[50,13,40,2],[50,38,40,39],[51,0,41,4],[51,15,41,11],[51,17,41,4],[52,0,42,3],[55,13,53,2],[55,37,53,17],[56,0,54,4],[56,12,54,8],[56,13,54,9],[56,18,54,14,"__isNative"],[56,28,54,4],[56,30,54,26],[57,0,55,6],[57,16,55,12],[57,20,55,16,"Error"],[57,25,55,12],[57,26,55,22],[57,77,55,12],[57,78,55,6],[58,0,56,5],[60,0,58,4],[60,12,58,8],[60,17,58,13,"hasListeners"],[60,29,58,8],[60,31,58,4],[60,33,58,29],[61,0,59,6],[61,15,59,11,"_startListeningToNativeValueUpdates"],[61,50,59,6],[62,0,60,5],[63,0,61,3],[66,13,70,2],[66,34,70,14,"callback"],[66,42,70,2],[66,44,70,55],[67,0,71,4],[67,12,71,10,"id"],[67,14,71,12],[67,17,71,15,"String"],[67,23,71,21],[67,24,71,22,"_uniqueId"],[67,33,71,31],[67,35,71,21],[67,36,71,4],[68,0,72,4],[68,13,72,9,"_listeners"],[68,23,72,4],[68,24,72,20,"id"],[68,26,72,4],[68,30,72,26,"callback"],[68,38,72,4],[70,0,73,4],[70,12,73,8],[70,17,73,13,"__isNative"],[70,27,73,4],[70,29,73,25],[71,0,74,6],[71,15,74,11,"_startListeningToNativeValueUpdates"],[71,50,74,6],[72,0,75,5],[74,0,76,4],[74,15,76,11,"id"],[74,17,76,4],[75,0,77,3],[78,13,85,2],[78,37,85,17,"id"],[78,39,85,2],[78,41,85,35],[79,0,86,4],[79,15,86,11],[79,20,86,16,"_listeners"],[79,30,86,11],[79,31,86,27,"id"],[79,33,86,11],[79,34,86,4],[81,0,87,4],[81,12,87,8],[81,17,87,13,"__isNative"],[81,27,87,8],[81,31,87,27],[81,32,87,28],[81,37,87,33,"hasListeners"],[81,49,87,28],[81,51,87,4],[81,53,87,49],[82,0,88,6],[82,15,88,11,"_stopListeningForNativeValueUpdates"],[82,50,88,6],[83,0,89,5],[84,0,90,3],[87,13,97,2],[87,43,97,29],[88,0,98,4],[88,13,98,9,"_listeners"],[88,23,98,4],[88,26,98,22],[88,28,98,4],[90,0,99,4],[90,12,99,8],[90,17,99,13,"__isNative"],[90,27,99,4],[90,29,99,25],[91,0,100,6],[91,15,100,11,"_stopListeningForNativeValueUpdates"],[91,50,100,6],[92,0,101,5],[93,0,102,3],[96,13,104,2],[96,37,104,26],[97,0,105,4],[97,15,105,11],[97,16,105,12],[97,17,105,13,"Object"],[97,23,105,19],[97,24,105,20,"keys"],[97,28,105,13],[97,29,105,25],[97,34,105,30,"_listeners"],[97,44,105,13],[97,46,105,42,"length"],[97,52,105,4],[98,0,106,3],[101,13,108,2],[101,60,108,40],[102,0,108,40],[104,0,109,4],[104,12,110,6],[104,17,110,11,"__nativeAnimatedValueListener"],[104,46,110,6],[104,50,111,6],[104,51,111,7],[104,56,111,12,"__shouldUpdateListenersForNewNativeTag"],[104,94,109,4],[104,96,112,6],[105,0,113,6],[106,0,114,5],[108,0,116,4],[108,12,116,8],[108,17,116,13,"__shouldUpdateListenersForNewNativeTag"],[108,55,116,4],[108,57,116,53],[109,0,117,6],[109,15,117,11,"__shouldUpdateListenersForNewNativeTag"],[109,53,117,6],[109,56,117,52],[109,61,117,6],[111,0,118,6],[111,15,118,11,"_stopListeningForNativeValueUpdates"],[111,50,118,6],[112,0,119,5],[114,0,121,4,"NativeAnimatedAPI"],[114,8,121,4,"NativeAnimatedAPI"],[114,25,121,21],[114,26,121,22,"startListeningToAnimatedNodeValue"],[114,59,121,4],[114,60,121,56],[114,65,121,61,"__getNativeTag"],[114,79,121,56],[114,81,121,4],[115,0,122,4],[115,13,122,9,"__nativeAnimatedValueListener"],[115,42,122,4],[115,45,122,41,"NativeAnimatedHelper"],[115,65,122,61],[115,66,122,62,"nativeEventEmitter"],[115,84,122,41],[115,85,122,81,"addListener"],[115,96,122,41],[115,97,123,6],[115,120,122,41],[115,122,124,6],[115,132,124,6,"data"],[115,136,124,10],[115,138,124,14],[116,0,125,8],[116,14,125,12,"data"],[116,18,125,16],[116,19,125,17,"tag"],[116,22,125,12],[116,27,125,25],[116,32,125,29],[116,33,125,30,"__getNativeTag"],[116,47,125,25],[116,49,125,8],[116,51,125,48],[117,0,126,10],[118,0,127,9],[120,0,128,8],[120,10,128,8],[120,15,128,12],[120,16,128,13,"_onAnimatedValueUpdateReceived"],[120,46,128,8],[120,47,128,44,"data"],[120,51,128,48],[120,52,128,49,"value"],[120,57,128,8],[121,0,129,7],[121,9,122,41],[121,10,122,4],[122,0,131,3],[125,13,133,2],[125,53,133,33,"value"],[125,58,133,2],[125,60,133,48],[126,0,134,4],[126,13,134,9,"__callListeners"],[126,28,134,4],[126,29,134,25,"value"],[126,34,134,4],[127,0,135,3],[130,13,137,2],[130,38,137,18,"value"],[130,43,137,2],[130,45,137,39],[131,0,138,4],[131,13,138,9],[131,17,138,15,"key"],[131,21,138,4],[131,25,138,22],[131,30,138,27,"_listeners"],[131,40,138,4],[131,42,138,39],[132,0,139,6],[132,15,139,11,"_listeners"],[132,25,139,6],[132,26,139,22,"key"],[132,30,139,6],[132,32,139,27],[133,0,139,28,"value"],[133,12,139,28,"value"],[133,17,139,33],[133,19,139,28,"value"],[134,0,139,27],[134,11,139,6],[135,0,140,5],[136,0,141,3],[139,13,143,2],[139,60,143,40],[140,0,144,4],[140,12,144,8],[140,13,144,9],[140,18,144,14,"__nativeAnimatedValueListener"],[140,47,144,4],[140,49,144,45],[141,0,145,6],[142,0,146,5],[144,0,148,4],[144,13,148,9,"__nativeAnimatedValueListener"],[144,42,148,4],[144,43,148,39,"remove"],[144,49,148,4],[146,0,149,4],[146,13,149,9,"__nativeAnimatedValueListener"],[146,42,149,4],[146,45,149,41],[146,49,149,4],[147,0,150,4,"NativeAnimatedAPI"],[147,8,150,4,"NativeAnimatedAPI"],[147,25,150,21],[147,26,150,22,"stopListeningToAnimatedNodeValue"],[147,58,150,4],[147,59,150,55],[147,64,150,60,"__getNativeTag"],[147,78,150,55],[147,80,150,4],[148,0,151,3],[151,13,153,2],[151,39,153,27],[152,0,153,27],[154,0,154,4,"NativeAnimatedHelper"],[154,8,154,4,"NativeAnimatedHelper"],[154,28,154,24],[154,29,154,25,"assertNativeAnimatedModule"],[154,55,154,4],[155,0,155,4,"invariant"],[155,8,155,4,"invariant"],[155,17,155,13],[155,18,156,6],[155,23,156,11,"__isNative"],[155,33,155,13],[155,35,157,6],[155,95,155,13],[155,96,155,4],[156,0,160,4],[156,12,160,10,"nativeTag"],[156,21,160,19],[156,45,161,6],[156,50,161,11,"__nativeTag"],[156,61,160,19],[156,93,161,26,"NativeAnimatedHelper"],[156,113,161,46],[156,114,161,47,"generateNewNodeTag"],[156,132,161,26],[156,134,160,4],[158,0,163,4],[158,12,163,8],[158,17,163,13,"__nativeTag"],[158,28,163,8],[158,32,163,28],[158,36,163,4],[158,38,163,34],[159,0,164,6],[159,15,164,11,"__nativeTag"],[159,26,164,6],[159,29,164,25,"nativeTag"],[159,38,164,6],[160,0,165,6,"NativeAnimatedHelper"],[160,10,165,6,"NativeAnimatedHelper"],[160,30,165,26],[160,31,165,27,"API"],[160,34,165,6],[160,35,165,31,"createAnimatedNode"],[160,53,165,6],[160,54,166,8,"nativeTag"],[160,63,165,6],[160,65,167,8],[160,70,167,13,"__getNativeConfig"],[160,87,167,8],[160,89,165,6],[161,0,169,6],[161,15,169,11,"__shouldUpdateListenersForNewNativeTag"],[161,53,169,6],[161,56,169,52],[161,60,169,6],[162,0,170,5],[164,0,172,4],[164,15,172,11,"nativeTag"],[164,24,172,4],[165,0,173,3],[168,13,174,2],[168,42,174,30],[169,0,175,4],[169,14,175,10],[169,18,175,14,"Error"],[169,23,175,10],[169,24,176,6],[169,91,175,10],[169,92,175,4],[170,0,178,3],[173,13,179,2],[173,31,179,16],[174,0,180,4],[174,15,180,11],[174,20,180,16,"__getValue"],[174,30,180,11],[174,32,180,4],[175,0,181,3],[181,0,184,0,"module"],[181,2,184,0,"module"],[181,8,184,6],[181,9,184,7,"exports"],[181,16,184,0],[181,19,184,17,"AnimatedNode"],[181,31,184,0]],"functionMap":{"names":["<global>","AnimatedNode","__attach","__detach","__getValue","__getAnimatedValue","__addChild","__removeChild","__getChildren","constructor","__makeNative","addListener","removeListener","removeAllListeners","hasListeners","_startListeningToNativeValueUpdates","NativeAnimatedHelper.nativeEventEmitter.addListener$argument_1","_onAnimatedValueUpdateReceived","__callListeners","_stopListeningForNativeValueUpdates","__getNativeTag","__getNativeConfig","toJSON"],"mappings":"AAA;ACuB;ECG,mBD;EEC;GFK;EGC,oBH;EIC;GJE;EKC,kCL;EMC,qCN;EOC;GPE;EQO;GRE;ESE;GTQ;EUS;GVO;EWQ;GXK;EYO;GZK;EaE;GbE;EcE;MCgB;ODK;GdE;EgBE;GhBE;EiBE;GjBI;EkBE;GlBQ;EmBE;GnBoB;EoBC;GpBI;EqBC;GrBE;CDC"}},"type":"js/module"}]}