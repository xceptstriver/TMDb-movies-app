{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false,"locs":[]}},{"name":"react","data":{"isAsync":false,"locs":[]}},{"name":"./NavigationBuilderContext","data":{"isAsync":false,"locs":[]}},{"name":"./NavigationRouteContext","data":{"isAsync":false,"locs":[]}},{"name":"./isArrayEqual","data":{"isAsync":false,"locs":[]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useOnGetState;\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/defineProperty\"));\n\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[2], \"react\"));\n\n  var _NavigationBuilderContext = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"./NavigationBuilderContext\"));\n\n  var _NavigationRouteContext = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"./NavigationRouteContext\"));\n\n  var _isArrayEqual = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"./isArrayEqual\"));\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  function useOnGetState(_ref) {\n    var getState = _ref.getState,\n        getStateListeners = _ref.getStateListeners;\n\n    var _React$useContext = React.useContext(_NavigationBuilderContext.default),\n        addKeyedListener = _React$useContext.addKeyedListener;\n\n    var route = React.useContext(_NavigationRouteContext.default);\n    var key = route ? route.key : 'root';\n    var getRehydratedState = React.useCallback(function () {\n      var state = getState();\n      var routes = state.routes.map(function (route) {\n        var _getStateListeners$ro;\n\n        var childState = (_getStateListeners$ro = getStateListeners[route.key]) == null ? void 0 : _getStateListeners$ro.call(getStateListeners);\n\n        if (route.state === childState) {\n          return route;\n        }\n\n        return _objectSpread(_objectSpread({}, route), {}, {\n          state: childState\n        });\n      });\n\n      if ((0, _isArrayEqual.default)(state.routes, routes)) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        routes: routes\n      });\n    }, [getState, getStateListeners]);\n    React.useEffect(function () {\n      return addKeyedListener == null ? void 0 : addKeyedListener('getState', key, getRehydratedState);\n    }, [addKeyedListener, getRehydratedState, key]);\n  }\n});","lineCount":64,"map":[[11,0,1,0],[13,0,3,0],[15,0,6,0],[17,0,7,0],[27,0,14,15],[27,11,14,24,"useOnGetState"],[27,24,14,15],[27,31,17,12],[28,0,17,12],[28,8,15,2,"getState"],[28,16,17,12],[28,24,15,2,"getState"],[28,32,17,12],[29,0,17,12],[29,8,16,2,"getStateListeners"],[29,25,17,12],[29,33,16,2,"getStateListeners"],[29,50,17,12],[31,0,18,2],[31,28,18,31,"React"],[31,33,18,36],[31,34,18,37,"useContext"],[31,44,18,31],[31,45,18,48,"NavigationBuilderContext"],[31,78,18,31],[31,79,18,2],[32,0,18,2],[32,8,18,10,"addKeyedListener"],[32,24,18,2],[32,45,18,10,"addKeyedListener"],[32,61,18,2],[34,0,19,2],[34,8,19,8,"route"],[34,13,19,13],[34,16,19,16,"React"],[34,21,19,21],[34,22,19,22,"useContext"],[34,32,19,16],[34,33,19,33,"NavigationRouteContext"],[34,64,19,16],[34,65,19,2],[35,0,20,2],[35,8,20,8,"key"],[35,11,20,11],[35,14,20,14,"route"],[35,19,20,19],[35,22,20,22,"route"],[35,27,20,27],[35,28,20,28,"key"],[35,31,20,19],[35,34,20,34],[35,40,20,2],[36,0,22,2],[36,8,22,8,"getRehydratedState"],[36,26,22,26],[36,29,22,29,"React"],[36,34,22,34],[36,35,22,35,"useCallback"],[36,46,22,29],[36,47,22,47],[36,59,22,53],[37,0,23,4],[37,10,23,10,"state"],[37,15,23,15],[37,18,23,18,"getState"],[37,26,23,26],[37,28,23,4],[38,0,26,4],[38,10,26,10,"routes"],[38,16,26,16],[38,19,26,19,"state"],[38,24,26,24],[38,25,26,25,"routes"],[38,31,26,19],[38,32,26,32,"map"],[38,35,26,19],[38,36,26,36],[38,46,26,37,"route"],[38,51,26,36],[38,53,26,47],[39,0,26,47],[41,0,27,6],[41,12,27,12,"childState"],[41,22,27,22],[41,50,27,25,"getStateListeners"],[41,67,27,42],[41,68,27,43,"route"],[41,73,27,48],[41,74,27,49,"key"],[41,77,27,42],[41,78,27,22],[41,99,27,25],[41,126,27,25,"getStateListeners"],[41,143,27,42],[41,144,27,6],[43,0,29,6],[43,12,29,10,"route"],[43,17,29,15],[43,18,29,16,"state"],[43,23,29,10],[43,28,29,26,"childState"],[43,38,29,6],[43,40,29,38],[44,0,30,8],[44,17,30,15,"route"],[44,22,30,8],[45,0,31,7],[47,0,33,6],[47,47,33,18,"route"],[47,52,33,6],[48,0,33,25,"state"],[48,10,33,25,"state"],[48,15,33,30],[48,17,33,32,"childState"],[49,0,33,6],[50,0,34,5],[50,7,26,19],[50,8,26,4],[52,0,36,4],[52,10,36,8],[52,37,36,21,"state"],[52,42,36,26],[52,43,36,27,"routes"],[52,49,36,8],[52,51,36,35,"routes"],[52,57,36,8],[52,58,36,4],[52,60,36,44],[53,0,37,6],[53,15,37,13,"state"],[53,20,37,6],[54,0,38,5],[56,0,40,4],[56,45,40,16,"state"],[56,50,40,4],[57,0,40,23,"routes"],[57,8,40,23,"routes"],[57,14,40,29],[57,16,40,23,"routes"],[58,0,40,4],[59,0,41,3],[59,5,22,29],[59,7,41,5],[59,8,41,6,"getState"],[59,16,41,5],[59,18,41,16,"getStateListeners"],[59,35,41,5],[59,36,22,29],[59,37,22,2],[60,0,43,2,"React"],[60,4,43,2,"React"],[60,9,43,7],[60,10,43,8,"useEffect"],[60,19,43,2],[60,20,43,18],[60,32,43,24],[61,0,44,4],[61,13,44,11,"addKeyedListener"],[61,29,44,4],[61,49,44,11,"addKeyedListener"],[61,65,44,27],[61,66,44,30],[61,76,44,27],[61,78,44,42,"key"],[61,81,44,27],[61,83,44,47,"getRehydratedState"],[61,101,44,27],[61,102,44,4],[62,0,45,3],[62,5,43,2],[62,7,45,5],[62,8,45,6,"addKeyedListener"],[62,24,45,5],[62,26,45,24,"getRehydratedState"],[62,44,45,5],[62,46,45,44,"key"],[62,49,45,5],[62,50,43,2],[63,0,46,1]],"functionMap":{"names":["<global>","useOnGetState","React.useCallback$argument_0","state.routes.map$argument_0","React.useEffect$argument_0"],"mappings":"AAA;eCa;+CCQ;oCCI;KDQ;GDO;kBGE;GHE;CDC"}},"type":"js/module"}]}