{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false,"locs":[]}},{"name":"../Utilities/PixelRatio","data":{"isAsync":false,"locs":[{"start":{"line":23,"column":19},"end":{"line":23,"column":53}}]}},{"name":"../Utilities/Platform","data":{"isAsync":false,"locs":[{"start":{"line":24,"column":17},"end":{"line":24,"column":49}}]}},{"name":"./assetPathUtils","data":{"isAsync":false,"locs":[{"start":{"line":26,"column":23},"end":{"line":26,"column":50}}]}},{"name":"invariant","data":{"isAsync":false,"locs":[{"start":{"line":27,"column":18},"end":{"line":27,"column":38}}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n\n  var _createClass = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n\n  var PixelRatio = _$$_REQUIRE(_dependencyMap[2], \"../Utilities/PixelRatio\");\n\n  var Platform = _$$_REQUIRE(_dependencyMap[3], \"../Utilities/Platform\");\n\n  var assetPathUtils = _$$_REQUIRE(_dependencyMap[4], \"./assetPathUtils\");\n\n  var invariant = _$$_REQUIRE(_dependencyMap[5], \"invariant\");\n\n  function getScaledAssetPath(asset) {\n    var scale = AssetSourceResolver.pickScale(asset.scales, PixelRatio.get());\n    var scaleSuffix = scale === 1 ? '' : '@' + scale + 'x';\n    var assetDir = assetPathUtils.getBasePath(asset);\n    return assetDir + '/' + asset.name + scaleSuffix + '.' + asset.type;\n  }\n\n  function getAssetPathInDrawableFolder(asset) {\n    var scale = AssetSourceResolver.pickScale(asset.scales, PixelRatio.get());\n    var drawbleFolder = assetPathUtils.getAndroidResourceFolderName(asset, scale);\n    var fileName = assetPathUtils.getAndroidResourceIdentifier(asset);\n    return drawbleFolder + '/' + fileName + '.' + asset.type;\n  }\n\n  var AssetSourceResolver = function () {\n    function AssetSourceResolver(serverUrl, jsbundleUrl, asset) {\n      _classCallCheck(this, AssetSourceResolver);\n\n      this.serverUrl = serverUrl;\n      this.jsbundleUrl = jsbundleUrl;\n      this.asset = asset;\n    }\n\n    _createClass(AssetSourceResolver, [{\n      key: \"isLoadedFromServer\",\n      value: function isLoadedFromServer() {\n        return !!this.serverUrl;\n      }\n    }, {\n      key: \"isLoadedFromFileSystem\",\n      value: function isLoadedFromFileSystem() {\n        return !!(this.jsbundleUrl && this.jsbundleUrl.startsWith('file://'));\n      }\n    }, {\n      key: \"defaultAsset\",\n      value: function defaultAsset() {\n        if (this.isLoadedFromServer()) {\n          return this.assetServerURL();\n        }\n\n        if (\"android\" === 'android') {\n          return this.isLoadedFromFileSystem() ? this.drawableFolderInBundle() : this.resourceIdentifierWithoutScale();\n        } else {\n          return this.scaledAssetURLNearBundle();\n        }\n      }\n    }, {\n      key: \"assetServerURL\",\n      value: function assetServerURL() {\n        invariant(!!this.serverUrl, 'need server to load from');\n        return this.fromSource(this.serverUrl + getScaledAssetPath(this.asset) + '?platform=' + \"android\" + '&hash=' + this.asset.hash);\n      }\n    }, {\n      key: \"scaledAssetPath\",\n      value: function scaledAssetPath() {\n        return this.fromSource(getScaledAssetPath(this.asset));\n      }\n    }, {\n      key: \"scaledAssetURLNearBundle\",\n      value: function scaledAssetURLNearBundle() {\n        var path = this.jsbundleUrl || 'file://';\n        return this.fromSource(path + getScaledAssetPath(this.asset).replace(/\\.\\.\\//g, '_'));\n      }\n    }, {\n      key: \"resourceIdentifierWithoutScale\",\n      value: function resourceIdentifierWithoutScale() {\n        invariant(\"android\" === 'android', 'resource identifiers work on Android');\n        return this.fromSource(assetPathUtils.getAndroidResourceIdentifier(this.asset));\n      }\n    }, {\n      key: \"drawableFolderInBundle\",\n      value: function drawableFolderInBundle() {\n        var path = this.jsbundleUrl || 'file://';\n        return this.fromSource(path + getAssetPathInDrawableFolder(this.asset));\n      }\n    }, {\n      key: \"fromSource\",\n      value: function fromSource(source) {\n        return {\n          __packager_asset: true,\n          width: this.asset.width,\n          height: this.asset.height,\n          uri: source,\n          scale: AssetSourceResolver.pickScale(this.asset.scales, PixelRatio.get())\n        };\n      }\n    }], [{\n      key: \"pickScale\",\n      value: function pickScale(scales, deviceScale) {\n        for (var i = 0; i < scales.length; i++) {\n          if (scales[i] >= deviceScale) {\n            return scales[i];\n          }\n        }\n\n        return scales[scales.length - 1] || 1;\n      }\n    }]);\n\n    return AssetSourceResolver;\n  }();\n\n  module.exports = AssetSourceResolver;\n});","lineCount":119,"map":[[2,0,11,0],[8,0,23,0],[8,6,23,6,"PixelRatio"],[8,16,23,16],[8,19,23,19,"require"],[8,30,23,26],[8,76,23,0],[10,0,24,0],[10,6,24,6,"Platform"],[10,14,24,14],[10,17,24,17,"require"],[10,28,24,24],[10,72,24,0],[12,0,26,0],[12,6,26,6,"assetPathUtils"],[12,20,26,20],[12,23,26,23,"require"],[12,34,26,30],[12,73,26,0],[14,0,27,0],[14,6,27,6,"invariant"],[14,15,27,15],[14,18,27,18,"require"],[14,29,27,25],[14,61,27,0],[16,0,32,0],[16,11,32,9,"getScaledAssetPath"],[16,29,32,0],[16,30,32,28,"asset"],[16,35,32,0],[16,37,32,43],[17,0,33,2],[17,8,33,8,"scale"],[17,13,33,13],[17,16,33,16,"AssetSourceResolver"],[17,35,33,35],[17,36,33,36,"pickScale"],[17,45,33,16],[17,46,33,46,"asset"],[17,51,33,51],[17,52,33,52,"scales"],[17,58,33,16],[17,60,33,60,"PixelRatio"],[17,70,33,70],[17,71,33,71,"get"],[17,74,33,60],[17,76,33,16],[17,77,33,2],[18,0,34,2],[18,8,34,8,"scaleSuffix"],[18,19,34,19],[18,22,34,22,"scale"],[18,27,34,27],[18,32,34,32],[18,33,34,22],[18,36,34,36],[18,38,34,22],[18,41,34,41],[18,47,34,47,"scale"],[18,52,34,41],[18,55,34,55],[18,58,34,2],[19,0,35,2],[19,8,35,8,"assetDir"],[19,16,35,16],[19,19,35,19,"assetPathUtils"],[19,33,35,33],[19,34,35,34,"getBasePath"],[19,45,35,19],[19,46,35,46,"asset"],[19,51,35,19],[19,52,35,2],[20,0,36,2],[20,11,36,9,"assetDir"],[20,19,36,17],[20,22,36,20],[20,25,36,9],[20,28,36,26,"asset"],[20,33,36,31],[20,34,36,32,"name"],[20,38,36,9],[20,41,36,39,"scaleSuffix"],[20,52,36,9],[20,55,36,53],[20,58,36,9],[20,61,36,59,"asset"],[20,66,36,64],[20,67,36,65,"type"],[20,71,36,2],[21,0,37,1],[23,0,42,0],[23,11,42,9,"getAssetPathInDrawableFolder"],[23,39,42,0],[23,40,42,38,"asset"],[23,45,42,0],[23,47,42,53],[24,0,43,2],[24,8,43,8,"scale"],[24,13,43,13],[24,16,43,16,"AssetSourceResolver"],[24,35,43,35],[24,36,43,36,"pickScale"],[24,45,43,16],[24,46,43,46,"asset"],[24,51,43,51],[24,52,43,52,"scales"],[24,58,43,16],[24,60,43,60,"PixelRatio"],[24,70,43,70],[24,71,43,71,"get"],[24,74,43,60],[24,76,43,16],[24,77,43,2],[25,0,44,2],[25,8,44,8,"drawbleFolder"],[25,21,44,21],[25,24,44,24,"assetPathUtils"],[25,38,44,38],[25,39,44,39,"getAndroidResourceFolderName"],[25,67,44,24],[25,68,45,4,"asset"],[25,73,44,24],[25,75,46,4,"scale"],[25,80,44,24],[25,81,44,2],[26,0,48,2],[26,8,48,8,"fileName"],[26,16,48,16],[26,19,48,19,"assetPathUtils"],[26,33,48,33],[26,34,48,34,"getAndroidResourceIdentifier"],[26,62,48,19],[26,63,48,63,"asset"],[26,68,48,19],[26,69,48,2],[27,0,49,2],[27,11,49,9,"drawbleFolder"],[27,24,49,22],[27,27,49,25],[27,30,49,9],[27,33,49,31,"fileName"],[27,41,49,9],[27,44,49,42],[27,47,49,9],[27,50,49,48,"asset"],[27,55,49,53],[27,56,49,54,"type"],[27,60,49,2],[28,0,50,1],[30,6,52,6,"AssetSourceResolver"],[30,25],[31,0,59,2],[31,33,59,14,"serverUrl"],[31,42,59,2],[31,44,59,34,"jsbundleUrl"],[31,55,59,2],[31,57,59,56,"asset"],[31,62,59,2],[31,64,59,78],[32,0,59,78],[34,0,60,4],[34,11,60,9,"serverUrl"],[34,20,60,4],[34,23,60,21,"serverUrl"],[34,32,60,4],[35,0,61,4],[35,11,61,9,"jsbundleUrl"],[35,22,61,4],[35,25,61,23,"jsbundleUrl"],[35,36,61,4],[36,0,62,4],[36,11,62,9,"asset"],[36,16,62,4],[36,19,62,17,"asset"],[36,24,62,4],[37,0,63,3],[41,13,65,2],[41,43,65,32],[42,0,66,4],[42,15,66,11],[42,16,66,12],[42,17,66,13],[42,22,66,18,"serverUrl"],[42,31,66,4],[43,0,67,3],[46,13,69,2],[46,47,69,36],[47,0,70,4],[47,15,70,11],[47,16,70,12],[47,18,70,14],[47,23,70,19,"jsbundleUrl"],[47,34,70,14],[47,38,70,34],[47,43,70,39,"jsbundleUrl"],[47,54,70,34],[47,55,70,51,"startsWith"],[47,65,70,34],[47,66,70,62],[47,75,70,34],[47,76,70,12],[47,77,70,4],[48,0,71,3],[51,13,73,2],[51,37,73,38],[52,0,74,4],[52,12,74,8],[52,17,74,13,"isLoadedFromServer"],[52,35,74,8],[52,37,74,4],[52,39,74,35],[53,0,75,6],[53,17,75,13],[53,22,75,18,"assetServerURL"],[53,36,75,13],[53,38,75,6],[54,0,76,5],[56,0,78,4],[56,12,78,8],[56,26,78,24],[56,35,78,4],[56,37,78,35],[57,0,79,6],[57,17,79,13],[57,22,79,18,"isLoadedFromFileSystem"],[57,44,79,13],[57,49,80,10],[57,54,80,15,"drawableFolderInBundle"],[57,76,80,10],[57,78,79,13],[57,81,81,10],[57,86,81,15,"resourceIdentifierWithoutScale"],[57,116,81,10],[57,118,79,6],[58,0,82,5],[58,9,78,4],[58,15,82,11],[59,0,83,6],[59,17,83,13],[59,22,83,18,"scaledAssetURLNearBundle"],[59,46,83,13],[59,48,83,6],[60,0,84,5],[61,0,85,3],[64,13,91,2],[64,39,91,40],[65,0,92,4,"invariant"],[65,8,92,4,"invariant"],[65,17,92,13],[65,18,92,14],[65,19,92,15],[65,20,92,16],[65,25,92,21,"serverUrl"],[65,34,92,13],[65,36,92,32],[65,62,92,13],[65,63,92,4],[66,0,93,4],[66,15,93,11],[66,20,93,16,"fromSource"],[66,30,93,11],[66,31,94,6],[66,36,94,11,"serverUrl"],[66,45,94,6],[66,48,95,8,"getScaledAssetPath"],[66,66,95,26],[66,67,95,27],[66,72,95,32,"asset"],[66,77,95,26],[66,78,94,6],[66,81,96,8],[66,93,94,6],[66,108,98,8],[66,116,94,6],[66,119,99,8],[66,124,99,13,"asset"],[66,129,99,8],[66,130,99,19,"hash"],[66,134,93,11],[66,135,93,4],[67,0,101,3],[70,13,107,2],[70,40,107,41],[71,0,108,4],[71,15,108,11],[71,20,108,16,"fromSource"],[71,30,108,11],[71,31,108,27,"getScaledAssetPath"],[71,49,108,45],[71,50,108,46],[71,55,108,51,"asset"],[71,60,108,45],[71,61,108,11],[71,62,108,4],[72,0,109,3],[75,13,115,2],[75,49,115,50],[76,0,116,4],[76,12,116,10,"path"],[76,16,116,14],[76,19,116,17],[76,24,116,22,"jsbundleUrl"],[76,35,116,17],[76,39,116,37],[76,48,116,4],[77,0,117,4],[77,15,117,11],[77,20,117,16,"fromSource"],[77,30,117,11],[77,31,121,6,"path"],[77,35,121,10],[77,38,121,13,"getScaledAssetPath"],[77,56,121,31],[77,57,121,32],[77,62,121,37,"asset"],[77,67,121,31],[77,68,121,13],[77,69,121,44,"replace"],[77,76,121,13],[77,77,121,52],[77,86,121,13],[77,88,121,63],[77,91,121,13],[77,92,117,11],[77,93,117,4],[78,0,123,3],[81,13,131,2],[81,55,131,56],[82,0,132,4,"invariant"],[82,8,132,4,"invariant"],[82,17,132,13],[82,18,133,6],[82,32,133,22],[82,41,132,13],[82,43,134,6],[82,81,132,13],[82,82,132,4],[83,0,136,4],[83,15,136,11],[83,20,136,16,"fromSource"],[83,30,136,11],[83,31,137,6,"assetPathUtils"],[83,45,137,20],[83,46,137,21,"getAndroidResourceIdentifier"],[83,74,137,6],[83,75,137,50],[83,80,137,55,"asset"],[83,85,137,6],[83,86,136,11],[83,87,136,4],[84,0,139,3],[87,13,146,2],[87,47,146,48],[88,0,147,4],[88,12,147,10,"path"],[88,16,147,14],[88,19,147,17],[88,24,147,22,"jsbundleUrl"],[88,35,147,17],[88,39,147,37],[88,48,147,4],[89,0,148,4],[89,15,148,11],[89,20,148,16,"fromSource"],[89,30,148,11],[89,31,148,27,"path"],[89,35,148,31],[89,38,148,34,"getAssetPathInDrawableFolder"],[89,66,148,62],[89,67,148,63],[89,72,148,68,"asset"],[89,77,148,62],[89,78,148,11],[89,79,148,4],[90,0,149,3],[93,13,151,2],[93,33,151,13,"source"],[93,39,151,2],[93,41,151,50],[94,0,152,4],[94,15,152,11],[95,0,153,6,"__packager_asset"],[95,10,153,6,"__packager_asset"],[95,26,153,22],[95,28,153,24],[95,32,152,11],[96,0,154,6,"width"],[96,10,154,6,"width"],[96,15,154,11],[96,17,154,13],[96,22,154,18,"asset"],[96,27,154,13],[96,28,154,24,"width"],[96,33,152,11],[97,0,155,6,"height"],[97,10,155,6,"height"],[97,16,155,12],[97,18,155,14],[97,23,155,19,"asset"],[97,28,155,14],[97,29,155,25,"height"],[97,35,152,11],[98,0,156,6,"uri"],[98,10,156,6,"uri"],[98,13,156,9],[98,15,156,11,"source"],[98,21,152,11],[99,0,157,6,"scale"],[99,10,157,6,"scale"],[99,15,157,11],[99,17,157,13,"AssetSourceResolver"],[99,36,157,32],[99,37,157,33,"pickScale"],[99,46,157,13],[99,47,157,43],[99,52,157,48,"asset"],[99,57,157,43],[99,58,157,54,"scales"],[99,64,157,13],[99,66,157,62,"PixelRatio"],[99,76,157,72],[99,77,157,73,"get"],[99,80,157,62],[99,82,157,13],[100,0,152,11],[100,9,152,4],[101,0,159,3],[104,13,161,2],[104,32,161,19,"scales"],[104,38,161,2],[104,40,161,42,"deviceScale"],[104,51,161,2],[104,53,161,71],[105,0,163,4],[105,13,163,9],[105,17,163,13,"i"],[105,18,163,14],[105,21,163,17],[105,22,163,4],[105,24,163,20,"i"],[105,25,163,21],[105,28,163,24,"scales"],[105,34,163,30],[105,35,163,31,"length"],[105,41,163,4],[105,43,163,39,"i"],[105,44,163,40],[105,46,163,4],[105,48,163,44],[106,0,164,6],[106,14,164,10,"scales"],[106,20,164,16],[106,21,164,17,"i"],[106,22,164,16],[106,23,164,10],[106,27,164,23,"deviceScale"],[106,38,164,6],[106,40,164,36],[107,0,165,8],[107,19,165,15,"scales"],[107,25,165,21],[107,26,165,22,"i"],[107,27,165,21],[107,28,165,8],[108,0,166,7],[109,0,167,5],[111,0,172,4],[111,15,172,11,"scales"],[111,21,172,17],[111,22,172,18,"scales"],[111,28,172,24],[111,29,172,25,"length"],[111,35,172,18],[111,38,172,34],[111,39,172,17],[111,40,172,11],[111,44,172,40],[111,45,172,4],[112,0,173,3],[118,0,176,0,"module"],[118,2,176,0,"module"],[118,8,176,6],[118,9,176,7,"exports"],[118,16,176,0],[118,19,176,17,"AssetSourceResolver"],[118,38,176,0]],"functionMap":{"names":["<global>","getScaledAssetPath","getAssetPathInDrawableFolder","AssetSourceResolver","constructor","isLoadedFromServer","isLoadedFromFileSystem","defaultAsset","assetServerURL","scaledAssetPath","scaledAssetURLNearBundle","resourceIdentifierWithoutScale","drawableFolderInBundle","fromSource","pickScale"],"mappings":"AAA;AC+B;CDK;AEK;CFQ;AGE;ECO;GDI;EEE;GFE;EGE;GHE;EIE;GJY;EKM;GLU;EMM;GNE;EOM;GPQ;EQQ;GRQ;ESO;GTG;EUE;GVQ;EWE;GXY;CHC"}},"type":"js/module"}]}